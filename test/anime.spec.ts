import nock from 'nock';
import { Anime } from '../src/Anime'

// tslint:disable:max-line-length
const mockAnimeGenericResponse = { request_hash: "request:anime:b2748716b753dd75fb9dbc52a29f337e5df14bcb", request_cached: true, request_cache_expiry: 26882, mal_id: 100, url: "https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear", image_url: "https://cdn.myanimelist.net/images/anime/9/11709.jpg", trailer_url: null, title: "Shin Shirayuki-hime Densetsu Prétear", title_english: "Prétear: The New Legend of Snow White", title_japanese: "新白雪姫伝説プリーティア", title_synonyms: ["Shin Shirayuki-hime Densetsu Pretear"], type: "TV", source: "Manga", episodes: 13, status: "Finished Airing", airing: false, aired: { from: "2001-04-04T00:00:00+00:00", to: "2001-06-27T00:00:00+00:00", prop: { from: { day: 4, month: 4, year: 2001 }, to: { day: 27, month: 6, year: 2001 } }, string: "Apr 4, 2001 to Jun 27, 2001" }, duration: "23 min per ep", rating: "PG-13 - Teens 13 or older", score: 7.19, scored_by: 24909, rank: 2804, popularity: 2183, members: 54204, favorites: 461, synopsis: "Due to her father's remarriage, robust 16-year-old Himeno Awayuki moves into a large mansion with a beautiful garden—the quintessential dream house for any girl her age. However, much to Himeno's disappointment, her new stepfamily doesn't really seem to like her, as her stepmother often occupies herself with her father, her younger stepsister Mawata ignores her, and her other stepsister—the equally aged Mayune—tries to prank her at every opportunity. But Himeno doesn't have time to dwell into thoughts of hopelessness—her new life has now become involved with a group of seven magical boys known as the Leafe Knights, after they ask her to become a magical princess who can borrow their powers! Although Himeno accepts their request and becomes the Prétear, she feels doubtful in her abilities to protect the world and its Leafe, the source of energy for all life. Will Himeno be able to find happiness among her new family and also save the Earth from the enemy, the Princess of Disaster? [Written by MAL Rewrite]", background: null, premiered: "Spring 2001", broadcast: "Wednesdays at 18:30 (JST)", related: { Adaptation: [{ mal_id: 1248, type: "manga", name: "Shin Shirayuki-hime Densetsu Pretear", url: "https://myanimelist.net/manga/1248/Shin_Shirayuki-hime_Densetsu_Pretear" }] }, producers: [{ mal_id: 113, type: "anime", name: "Kadokawa Shoten", url: "https://myanimelist.net/anime/producer/113/Kadokawa_Shoten" }, { mal_id: 160, type: "anime", name: "Rondo Robe", url: "https://myanimelist.net/anime/producer/160/Rondo_Robe" }], licensors: [{ mal_id: 97, type: "anime", name: "ADV Films", url: "https://myanimelist.net/anime/producer/97/ADV_Films" }, { mal_id: 102, type: "anime", name: "Funimation", url: "https://myanimelist.net/anime/producer/102/Funimation" }], studios: [{ mal_id: 34, type: "anime", name: "Hal Film Maker", url: "https://myanimelist.net/anime/producer/34/Hal_Film_Maker" }], genres: [{ mal_id: 4, type: "anime", name: "Comedy", url: "https://myanimelist.net/anime/genre/4/Comedy" }, { mal_id: 8, type: "anime", name: "Drama", url: "https://myanimelist.net/anime/genre/8/Drama" }, { mal_id: 10, type: "anime", name: "Fantasy", url: "https://myanimelist.net/anime/genre/10/Fantasy" }, { mal_id: 16, type: "anime", name: "Magic", url: "https://myanimelist.net/anime/genre/16/Magic" }, { mal_id: 22, type: "anime", name: "Romance", url: "https://myanimelist.net/anime/genre/22/Romance" }, { mal_id: 25, type: "anime", name: "Shoujo", url: "https://myanimelist.net/anime/genre/25/Shoujo" }, { mal_id: 31, type: "anime", name: "Super Power", url: "https://myanimelist.net/anime/genre/31/Super_Power" }], opening_themes: ["\"White destiny\" by Ishida Yoko"], ending_themes: ["\"Lucky Star\" by Yoshida Sayuri"] }

describe("get anime by id", () => {
    it("should return anime with generic information", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100').reply(200, mockAnimeGenericResponse);

        const anime = new Anime(100);
        const result = await anime.get();
        expect(result).toStrictEqual(mockAnimeGenericResponse);
    });
});

const mockAnimeCharacterStaffResponse = {request_hash:"request:anime:83e5ac96ee4ecc7ca853406b958c794e1d405778",request_cached:true,request_cache_expiry:29900,characters:[{mal_id:545,url:"https://myanimelist.net/character/545/Himeno_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/12/118248.jpg?s=e7a98f344c09cc401fb6dae885701a3b",name:"Awayuki, Himeno",role:"Main",voice_actors:[{mal_id:189,name:"Christian, Luci",url:"https://myanimelist.net/people/189/Luci_Christian",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/49236.jpg?s=731f7c9032263f267b4896750d2d8301",language:"English"},{mal_id:5246,name:"Yoshida, Sayuri",url:"https://myanimelist.net/people/5246/Sayuri_Yoshida",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/10861.jpg?s=712d5518019d47eda37b3a3ccb6b39b7",language:"Japanese"},{mal_id:767,name:"De Bortoli, Federica",url:"https://myanimelist.net/people/767/Federica_De_Bortoli",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/811.jpg?s=43a81ad717d6ccbd7bcb175ddec49bd8",language:"Italian"}]},{mal_id:546,url:"https://myanimelist.net/character/546/Hayate",image_url:"https://cdn.myanimelist.net/images/characters/8/85544.jpg?s=186689ac3627562e9f2eb76171e85bab",name:"Hayate",role:"Main",voice_actors:[{mal_id:97,name:"Toriumi, Kousuke",url:"https://myanimelist.net/people/97/Kousuke_Toriumi",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/56756.jpg?s=da69abd19900e74ae5817ffc973cb65a",language:"Japanese"},{mal_id:282,name:"Guardiola, Illich",url:"https://myanimelist.net/people/282/Illich_Guardiola",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/20771.jpg?s=c27ebd4eafaba557d15b625820f952f5",language:"English"},{mal_id:774,name:"D'Andrea, Simone",url:"https://myanimelist.net/people/774/Simone_DAndrea",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/37129.jpg?s=779b89c1a4d137a20af51d309811c938",language:"Italian"}]},{mal_id:547,url:"https://myanimelist.net/character/547/Sasame",image_url:"https://cdn.myanimelist.net/images/characters/2/51322.jpg?s=10e777a27c4426db189c5b81ebda3fef",name:"Sasame",role:"Main",voice_actors:[{mal_id:79,name:"Sakurai, Takahiro",url:"https://myanimelist.net/people/79/Takahiro_Sakurai",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/62791.jpg?s=e63f4d0ee3e5817a7017f3ce182d040d",language:"Japanese"},{mal_id:190,name:"Patton, Chris",url:"https://myanimelist.net/people/190/Chris_Patton",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/23615.jpg?s=72a3807fdfe9c303786ca09e6ddd9977",language:"English"},{mal_id:20240,name:"Vivio, Marco",url:"https://myanimelist.net/people/20240/Marco_Vivio",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/22856.jpg?s=19af766f78c7f9e8c1b4217b21730eb5",language:"Italian"}]},{mal_id:553,url:"https://myanimelist.net/character/553/Takako",image_url:"https://cdn.myanimelist.net/images/characters/10/47210.jpg?s=ab1d54e0b8349a87d2c80e7484bd43f4",name:"Takako",role:"Main",voice_actors:[{mal_id:28,name:"Horie, Yui",url:"https://myanimelist.net/people/28/Yui_Horie",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/55669.jpg?s=39478d5431fa2c866735de2586e2c6b1",language:"Japanese"},{mal_id:6435,name:"Coker, Kaytha",url:"https://myanimelist.net/people/6435/Kaytha_Coker",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/11595.jpg?s=0a8e6b3fb62b35ebef9fc9a7b6321365",language:"English"},{mal_id:1088,name:"Magnaghi, Debora",url:"https://myanimelist.net/people/1088/Debora_Magnaghi",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/15553.jpg?s=19a8906c1ca33350a521145688fda972",language:"Italian"}]},{mal_id:556,url:"https://myanimelist.net/character/556/Kaoru_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/4/58350.jpg?s=ab96f1da53098ac40e71b499c2db06b1",name:"Awayuki, Kaoru",role:"Supporting",voice_actors:[{mal_id:39,name:"Douglas, Jason",url:"https://myanimelist.net/people/39/Jason_Douglas",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/37773.jpg?s=cdf3406e16b732c383c3b8ccc1a6fe0c",language:"English"},{mal_id:58,name:"Ueda, Yuuji",url:"https://myanimelist.net/people/58/Yuuji_Ueda",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/55457.jpg?s=f2380cbee0b701e6aa47484181a86fe9",language:"Japanese"},{mal_id:1293,name:"Calindri, Gabriele",url:"https://myanimelist.net/people/1293/Gabriele_Calindri",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/1286.jpg?s=34b69d582add54f4f589317d9f9c6d25",language:"Italian"}]},{mal_id:557,url:"https://myanimelist.net/character/557/Natsue_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/7/56821.jpg?s=39d7d6ee9fbd2fd27b29632a48183903",name:"Awayuki, Natsue",role:"Supporting",voice_actors:[{mal_id:195,name:"Inoue, Kikuko",url:"https://myanimelist.net/people/195/Kikuko_Inoue",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/35155.jpg?s=2013a0ff3e2422c3a589679e6361c68e",language:"Japanese"},{mal_id:1663,name:"Silvestri, Marcella",url:"https://myanimelist.net/people/1663/Marcella_Silvestri",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/1568.jpg?s=0abf531c41a6ba408f8607f6d8cd2c2f",language:"Italian"}]},{mal_id:555,url:"https://myanimelist.net/character/555/Mawata_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/3/53253.jpg?s=4aebc1da0e34cc181262406e62c2d868",name:"Awayuki, Mawata",role:"Supporting",voice_actors:[{mal_id:239,name:"Kanda, Akemi",url:"https://myanimelist.net/people/239/Akemi_Kanda",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/55016.jpg?s=2ba77f0054b39f4b7d2e20a7ac36a9e1",language:"Japanese"},{mal_id:888,name:"Clark, Mandy",url:"https://myanimelist.net/people/888/Mandy_Clark",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/28189.jpg?s=b255d529b1c9d79a2c0c165a70fe37ff",language:"English"},{mal_id:14583,name:"Amendola, Alessia",url:"https://myanimelist.net/people/14583/Alessia_Amendola",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/15219.jpg?s=68c9546b8c582fc221498c720acce2fd",language:"Italian"}]},{mal_id:554,url:"https://myanimelist.net/character/554/Mayune_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/3/55092.jpg?s=19c0dcd030419a65d3fe9fb2dc8d5ebd",name:"Awayuki, Mayune",role:"Supporting",voice_actors:[{mal_id:3,name:"Yukino, Satsuki",url:"https://myanimelist.net/people/3/Satsuki_Yukino",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/18113.jpg?s=e6c1fb4e158cc6d7d3421b0bd6e33821",language:"Japanese"},{mal_id:193,name:"Calene-Black, Shelley",url:"https://myanimelist.net/people/193/Shelley_Calene-Black",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/40186.jpg?s=48af019410eb323cc635f8979a718697",language:"English"},{mal_id:1090,name:"Pacotto, Emanuela",url:"https://myanimelist.net/people/1090/Emanuela_Pacotto",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/28987.jpg?s=5c2fd7a61117beb4b7351f572bb5a52a",language:"Italian"}]},{mal_id:549,url:"https://myanimelist.net/character/549/Goh",image_url:"https://cdn.myanimelist.net/images/characters/3/51321.jpg?s=6c7ef4ffdb6cfd18e2c2b95cfe0890f2",name:"Goh",role:"Supporting",voice_actors:[{mal_id:150,name:"Spencer, Spike",url:"https://myanimelist.net/people/150/Spike_Spencer",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/36487.jpg?s=1cba3de55c3f166f8f322914de2c6518",language:"English"},{mal_id:178,name:"Morikubo, Shoutarou",url:"https://myanimelist.net/people/178/Shoutarou_Morikubo",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/57108.jpg?s=7419c769d2d3c4a9a45bb61d2e788d7f",language:"Japanese"},{mal_id:1087,name:"Iacono, Gianluca",url:"https://myanimelist.net/people/1087/Gianluca_Iacono",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/37125.jpg?s=3a1e02f697e98262309bca2797d0575e",language:"Italian"}]},{mal_id:551,url:"https://myanimelist.net/character/551/Hajime",image_url:"https://cdn.myanimelist.net/images/characters/8/51409.jpg?s=2367af9d82290519a517e0599e90a2ff",name:"Hajime",role:"Supporting",voice_actors:[{mal_id:151,name:"Haag, Hilary",url:"https://myanimelist.net/people/151/Hilary_Haag",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/41024.jpg?s=24e61fc47fb7f7b139f6181e5f1ad6e8",language:"English"},{mal_id:207,name:"Fukuen, Misato",url:"https://myanimelist.net/people/207/Misato_Fukuen",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/43879.jpg?s=c48798551846ed426f7a9f2870e41817",language:"Japanese"},{mal_id:20092,name:"Meli, Manuel",url:"https://myanimelist.net/people/20092/Manuel_Meli",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/38667.jpg?s=c9f7c081fd4ae857aef8a0f1b8c3c82f",language:"Italian"}]},{mal_id:548,url:"https://myanimelist.net/character/548/Kei",image_url:"https://cdn.myanimelist.net/images/characters/11/51408.jpg?s=dc6361caf31aabf081abab004e13c7dd",name:"Kei",role:"Supporting",voice_actors:[{mal_id:1290,name:"Graziano, Leonardo",url:"https://myanimelist.net/people/1290/Leonardo_Graziano",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/1282.jpg?s=c9121f5e9146e6e91508ce71bea2ff39",language:"Italian"},{mal_id:6145,name:"Naruse, Makoto",url:"https://myanimelist.net/people/6145/Makoto_Naruse",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/55933.jpg?s=8f707ff59c72240a5df190acced75e41",language:"Japanese"},{mal_id:12492,name:"Carsrud, Victor",url:"https://myanimelist.net/people/12492/Victor_Carsrud",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/12220.jpg?s=22865eda9fa6da373b6af73222c9189a",language:"English"}]},{mal_id:550,url:"https://myanimelist.net/character/550/Mannen",image_url:"https://cdn.myanimelist.net/images/characters/15/51320.jpg?s=dc008b3047a66c33e38ba12c0dd52f43",name:"Mannen",role:"Supporting",voice_actors:[{mal_id:148,name:"Yajima, Akiko",url:"https://myanimelist.net/people/148/Akiko_Yajima",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/33521.jpg?s=f91f0b5f04823cdb4e8b7cb731d7c8a7",language:"Japanese"},{mal_id:192,name:"Ayres, Greg",url:"https://myanimelist.net/people/192/Greg_Ayres",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/12455.jpg?s=a34115be18946ae76075034079a167b7",language:"English"},{mal_id:15567,name:"Patriarca, Gabriele",url:"https://myanimelist.net/people/15567/Gabriele_Patriarca",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/16891.jpg?s=2cac7595faa48064d36d99e17551e63a",language:"Italian"}]},{mal_id:552,url:"https://myanimelist.net/character/552/Shin",image_url:"https://cdn.myanimelist.net/images/characters/10/51318.jpg?s=f7f96fb1ae5fea88ed9f23a3226aad34",name:"Shin",role:"Supporting",voice_actors:[{mal_id:606,name:"Paysinger, Sasha",url:"https://myanimelist.net/people/606/Sasha_Paysinger",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/19625.jpg?s=31d921f32d6e744f34a5e487b3d94d49",language:"English"},{mal_id:1061,name:"Nakanishi, Tamaki",url:"https://myanimelist.net/people/1061/Tamaki_Nakanishi",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/58655.jpg?s=d2fc4825c26b6fc07061d919ab938cbd",language:"Japanese"},{mal_id:1284,name:"Granato, Jolanda",url:"https://myanimelist.net/people/1284/Jolanda_Granato",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/1277.jpg?s=edc7875ae0e5501427efcf4f5c3d4cbe",language:"Italian"}]},{mal_id:27824,url:"https://myanimelist.net/character/27824/Yayoi_Takato",image_url:"https://cdn.myanimelist.net/images/characters/5/79184.jpg?s=d6e674502701363e562c7e9a0c01ed8d",name:"Takato, Yayoi",role:"Supporting",voice_actors:[{mal_id:27,name:"Tamura, Yukari",url:"https://myanimelist.net/people/27/Yukari_Tamura",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/54665.jpg?s=168fdf1728b15f15f9e0aee4940d8f6f",language:"Japanese"},{mal_id:159,name:"Rial, Monica",url:"https://myanimelist.net/people/159/Monica_Rial",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/37923.jpg?s=404223ca84c96f83d491f45acf82eb10",language:"English"},{mal_id:43070,name:"Piovani, Tosawi",url:"https://myanimelist.net/people/43070/Tosawi_Piovani",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/46567.jpg?s=8f64501c8809c610145a4a2daebaeebc",language:"Italian"}]},{mal_id:9030,url:"https://myanimelist.net/character/9030/Tanaka",image_url:"https://cdn.myanimelist.net/images/characters/9/57546.jpg?s=650c05f6c7d02cc92faddcb9607cb4b9",name:"Tanaka",role:"Supporting",voice_actors:[{mal_id:160,name:"Koyasu, Takehito",url:"https://myanimelist.net/people/160/Takehito_Koyasu",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/10264.jpg?s=31943d0559d0c55da4e14a0c3bd25c5d",language:"Japanese"},{mal_id:6626,name:"Sidello, Paul",url:"https://myanimelist.net/people/6626/Paul_Sidello",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/3369.jpg?s=e8557577a5fe37eb8e25b11111dbd299",language:"English"},{mal_id:1236,name:"Sabre, Diego",url:"https://myanimelist.net/people/1236/Diego_Sabre",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/21749.jpg?s=a4af5167c2fc4c7cca1fb48650a06612",language:"Italian"}]}],staff:[{mal_id:4002,url:"https://myanimelist.net/people/4002/Junichi_Satou",name:"Satou, Junichi",image_url:"https://cdn.myanimelist.net/images/voiceactors/1/42167.jpg?s=d29da0c17c5de67e545eb0836d51790e",positions:["Director","Storyboard","Original Creator"]},{mal_id:6064,url:"https://myanimelist.net/people/6064/Kiyoko_Sayama",name:"Sayama, Kiyoko",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/19515.jpg?s=d2d333a541622e35c4cca16d37b23408",positions:["Director","Episode Director","Storyboard"]},{mal_id:37621,url:"https://myanimelist.net/people/37621/Hideyuki_Tanaka",name:"Tanaka, Hideyuki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Sound Director"]},{mal_id:7412,url:"https://myanimelist.net/people/7412/Yoshitaka_Fujimoto",name:"Fujimoto, Yoshitaka",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Episode Director"]},{mal_id:8538,url:"https://myanimelist.net/people/8538/Yoshimasa_Hiraike",name:"Hiraike, Yoshimasa",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/39740.jpg?s=e4c84ac65d6890968328ec5573978cfe",positions:["Episode Director"]},{mal_id:14607,url:"https://myanimelist.net/people/14607/Tatsufumi_Itou",name:"Itou, Tatsufumi",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/59828.jpg?s=4e7feb5154f9bfeadb64fca396e1f876",positions:["Episode Director","Storyboard","Key Animation"]},{mal_id:10377,url:"https://myanimelist.net/people/10377/Harume_Kosaka",name:"Kosaka, Harume",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Episode Director"]},{mal_id:47919,url:"https://myanimelist.net/people/47919/Yukio_Nishimoto",name:"Nishimoto, Yukio",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Episode Director","Storyboard"]},{mal_id:9619,url:"https://myanimelist.net/people/9619/Kenichi_Kanemaki",name:"Kanemaki, Kenichi",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Script","Series Composition"]},{mal_id:4801,url:"https://myanimelist.net/people/4801/Hiroyuki_Kawasaki",name:"Kawasaki, Hiroyuki",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/43691.jpg?s=e0a4846d2094dc3f96fd077d5a7ad028",positions:["Script"]},{mal_id:14703,url:"https://myanimelist.net/people/14703/Tomoki_Kobayashi",name:"Kobayashi, Tomoki",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/43404.jpg?s=989b2d16ca5b4163568552cc5fb54807",positions:["Storyboard"]},{mal_id:5315,url:"https://myanimelist.net/people/5315/Yuu_Kou",name:"Kou, Yuu",image_url:"https://cdn.myanimelist.net/images/voiceactors/1/10110.jpg?s=41115c5b336b0ecb36d8b51940ea605e",positions:["Storyboard"]},{mal_id:48086,url:"https://myanimelist.net/people/48086/Akira_Mano",name:"Mano, Akira",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Storyboard"]},{mal_id:5426,url:"https://myanimelist.net/people/5426/Yoko_Ishida",name:"Ishida, Yoko",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/12352.jpg?s=c02a9af46e5a363d97f657eb35328b33",positions:["Theme Song Performance"]},{mal_id:5958,url:"https://myanimelist.net/people/5958/Toshiyuki_Oomori",name:"Oomori, Toshiyuki",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/46322.jpg?s=df979a0ed26841c754a9e7f32c9ff52a",positions:["Theme Song Arrangement","Music"]},{mal_id:5246,url:"https://myanimelist.net/people/5246/Sayuri_Yoshida",name:"Yoshida, Sayuri",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/10861.jpg?s=712d5518019d47eda37b3a3ccb6b39b7",positions:["Theme Song Performance"]},{mal_id:27397,url:"https://myanimelist.net/people/27397/Misao_Abe",name:"Abe, Misao",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:11201,url:"https://myanimelist.net/people/11201/Hideki_Araki",name:"Araki, Hideki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:20408,url:"https://myanimelist.net/people/20408/Kazuo_Ebisawa",name:"Ebisawa, Kazuo",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/37283.jpg?s=a21715e3ba823be9ed4275b4ac750125",positions:["Background Art"]},{mal_id:8183,url:"https://myanimelist.net/people/8183/Kenji_Fujisaki",name:"Fujisaki, Kenji",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:11529,url:"https://myanimelist.net/people/11529/Shinya_Hasegawa",name:"Hasegawa, Shinya",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/43840.jpg?s=e66effb6d37fa040f2ccbdff85c7992b",positions:["Key Animation"]},{mal_id:46727,url:"https://myanimelist.net/people/46727/Hideki_Hashimoto",name:"Hashimoto, Hideki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:11202,url:"https://myanimelist.net/people/11202/Noritomo_Hattori",name:"Hattori, Noritomo",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Assistant Animation Director","Animation Director"]},{mal_id:37598,url:"https://myanimelist.net/people/37598/Koujirou_Hayashi",name:"Hayashi, Koujirou",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Director of Photography"]},{mal_id:7515,url:"https://myanimelist.net/people/7515/Kumi_Ishii",name:"Ishii, Kumi",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:47108,url:"https://myanimelist.net/people/47108/Hiroyuki_Kamura",name:"Kamura, Hiroyuki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:43853,url:"https://myanimelist.net/people/43853/Akemi_Kobayashi",name:"Kobayashi, Akemi",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Character Design","Animation Director","Chief Animation Director"]},{mal_id:2837,url:"https://myanimelist.net/people/2837/Kaori_Naruse",name:"Naruse, Kaori",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Original Creator"]},{mal_id:10311,url:"https://myanimelist.net/people/10311/Mariko_Oka",name:"Oka, Mariko",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:79,url:"https://myanimelist.net/people/79/Takahiro_Sakurai",name:"Sakurai, Takahiro",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/62791.jpg?s=e63f4d0ee3e5817a7017f3ce182d040d",positions:["Inserted Song Performance"]},{mal_id:6946,url:"https://myanimelist.net/people/6946/Kazuhiko_Shibuya",name:"Shibuya, Kazuhiko",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:16401,url:"https://myanimelist.net/people/16401/Shinobu_Tagashira",name:"Tagashira, Shinobu",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:16063,url:"https://myanimelist.net/people/16063/Kenichi_Tajiri",name:"Tajiri, Kenichi",image_url:"https://cdn.myanimelist.net/images/voiceactors/1/42169.jpg?s=ec3167f18b7af68dc1296c345652d8ca",positions:["Background Art","Art Director"]},{mal_id:8802,url:"https://myanimelist.net/people/8802/Masayuki_Takagi",name:"Takagi, Masayuki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:36161,url:"https://myanimelist.net/people/36161/Shinichi_Tanimura",name:"Tanimura, Shinichi",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Background Art"]},{mal_id:97,url:"https://myanimelist.net/people/97/Kousuke_Toriumi",name:"Toriumi, Kousuke",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/56756.jpg?s=da69abd19900e74ae5817ffc973cb65a",positions:["Inserted Song Performance"]},{mal_id:43788,url:"https://myanimelist.net/people/43788/David_Williams",name:"Williams, David",image_url:"https://cdn.myanimelist.net/images/voiceactors/1/45799.jpg?s=0840fde9a9f375c49d5ae66a021c525f",positions:["ADR Director"]}]}

describe("get anime character staff by id", () => {
    it("should return anime character staff", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/characters_staff').reply(200, mockAnimeCharacterStaffResponse);

        const anime = new Anime(100);
        const result = await anime.getCharacterStaff();
        expect(result).toStrictEqual(mockAnimeCharacterStaffResponse);
    });
});

const mockAnimeEpisodesResponse = {request_hash:"request:anime:f9172fb905bb9118b65b701295cb5a24d811b46a",request_cached:true,request_cache_expiry:86400,episodes_last_page:1,episodes:[{episode_id:1,title:"The Wind of Fate",title_japanese:"運命の風",title_romanji:"Unmei no Kaze ",aired:"2001-04-04T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/1",forum_url:"https://myanimelist.net/forum/?topicid=203354"},{episode_id:2,title:"Let Me Hear Your Heart Flutter",title_japanese:"トキメキを聴かせて",title_romanji:"Tokimeki wo Kikasete ",aired:"2001-04-11T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/2",forum_url:"https://myanimelist.net/forum/?topicid=203357"},{episode_id:3,title:"The Way of Becoming Prétear",title_japanese:"プリーティアへの道",title_romanji:"Pretear e no Michi ",aired:"2001-04-18T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/3",forum_url:"https://myanimelist.net/forum/?topicid=203361"},{episode_id:4,title:"A Promise Made Under the Sunlight",title_japanese:"陽だまりの約束",title_romanji:"Hidamari no Yakusoku ",aired:"2001-04-25T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/4",forum_url:"https://myanimelist.net/forum/?topicid=203445"},{episode_id:5,title:"The Smile of Darkness",title_japanese:"闇の微笑",title_romanji:"Yami no Bishou ",aired:"2001-05-02T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/5",forum_url:"https://myanimelist.net/forum/?topicid=1577574"},{episode_id:6,title:"The Rouge Secret",title_japanese:"ル−ジュ)の秘密",title_romanji:"Rouge no Himitsu (紅",aired:"2001-05-09T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/6",forum_url:"https://myanimelist.net/forum/?topicid=1577581"},{episode_id:7,title:"I Can't Protect Anyone Anymore",title_japanese:"もう誰も守れない",title_romanji:"Mou Dare mo Mamorenai ",aired:"2001-05-16T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/7",forum_url:"https://myanimelist.net/forum/?topicid=1577586"},{episode_id:8,title:"The Time of Awakening",title_japanese:"目覚めのとき",title_romanji:"Mezame no Toki ",aired:"2001-05-23T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/8",forum_url:"https://myanimelist.net/forum/?topicid=597491"},{episode_id:9,title:"Unreachable Melody",title_japanese:"届かない旋律（メロディー）",title_romanji:"Todokanai Senritsu [Melody] ",aired:"2001-05-30T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/9",forum_url:"https://myanimelist.net/forum/?topicid=310133"},{episode_id:10,title:"At the End of Memories",title_japanese:"想いの果てに",title_romanji:"Omoi no Hate ni ",aired:"2001-06-06T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/10",forum_url:"https://myanimelist.net/forum/?topicid=622567"},{episode_id:11,title:"Eyes of Glass",title_japanese:"ガラスの瞳",title_romanji:"Glass no Hitomi ",aired:"2001-06-13T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/11",forum_url:"https://myanimelist.net/forum/?topicid=1427517"},{episode_id:12,title:"Warmth, Once More",title_japanese:"ぬくもりをもう一度",title_romanji:"Nukumori wo Mou Ichido ",aired:"2001-06-20T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/12",forum_url:"https://myanimelist.net/forum/?topicid=1480892"},{episode_id:13,title:"The Legend of White Snow",title_japanese:"白い雪の伝説",title_romanji:"Shiroi Yuki no Densetsu ",aired:"2001-06-27T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/13",forum_url:"https://myanimelist.net/forum/?topicid=597597"}]}

describe("get anime episode by id", () => {
    it("should return anime episode by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/episodes/1').reply(200, mockAnimeEpisodesResponse);

        const anime = new Anime(100);
        const result = await anime.getEpisodes();
        expect(result).toStrictEqual(mockAnimeEpisodesResponse);
    });
});

const mockAnimeNewsResponse = {request_hash:"request:anime:d9e1ccae96549ac46f584ff7e00dbc04040a4696",request_cached:true,request_cache_expiry:86153,articles:[{url:"https://myanimelist.net/news/61052252",title:"'Shingeki No Kyojin: The Final Season' Announces Additional Cast",date:"2020-11-02T10:01:00+00:00",author_name:"Mako995",author_url:"https://myanimelist.net/profile/Mako995",forum_url:"https://myanimelist.net/forum/?topicid=1873706",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1604338710-c41f09ba3877cced1d751621ba2c9f80.jpeg?s=012d718d4c1fbc1f953ce74ee2e67e01",comments:29,intro:"The official website of the Shingeki No Kyojin television anime revealed seven additional cast members for the final season on Monday. The new season will begin airi..."},{url:"https://myanimelist.net/news/60807607",title:"Fall 2020 Simulcast List [Update 12/1]",date:"2020-09-28T11:50:00+00:00",author_name:"Snow",author_url:"https://myanimelist.net/profile/Snow",forum_url:"https://myanimelist.net/forum/?topicid=1867128",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1601318938-90b366d0ee226cca6a5f9c0e732c548f.jpeg?s=974e2aff16babfb701642d823d26b478",comments:75,intro:"In this thread, you'll find a comprehensive list of anime acquired for simulcast release during the Fall 2020 season. This list also includes titles that were p..."},{url:"https://myanimelist.net/news/60720316",title:"Fall 2020 Preview",date:"2020-09-15T12:55:00+00:00",author_name:"Snow",author_url:"https://myanimelist.net/profile/Snow",forum_url:"https://myanimelist.net/forum/?topicid=1864732",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1600216652-42c871790ac41862dc4ee37f1f6ea014.jpeg?s=9cc909d2d9aeb34abb47a15797569d3c",comments:24,intro:"In this thread you'll find a comprehensive list of Fall 2020 titles with an accompanying promotional video (PV), commercial (CM), or trailer. This post will be ..."},{url:"https://myanimelist.net/news/59893897",title:"MAPPA Produces Final 'Shingeki no Kyojin' Anime Season, Compilation Film Announced",date:"2020-05-29T03:02:00+00:00",author_name:"sevenPocky",author_url:"https://myanimelist.net/profile/sevenPocky",forum_url:"https://myanimelist.net/forum/?topicid=1843316",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1590745768-6cf524c156fd4da06fb4d202550a7e3f.jpeg?s=4ea8763b8f2c93fd81adec22e9b0b984",comments:224,intro:"The official website of the Shingeki no Kyojin (Attack on Titan) anime series revealed the first key visual (pictured left) and promotional video for the final seas..."},{url:"https://myanimelist.net/news/57882474",title:"Final 'Shingeki no Kyojin' Anime Season Announced for Fall 2020",date:"2019-06-30T09:06:00+00:00",author_name:"Vindstot",author_url:"https://myanimelist.net/profile/Vindstot",forum_url:"https://myanimelist.net/forum/?topicid=1789574",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1561910514-dc67da225d5f28d719feb43230964fb7.jpeg?s=5eeaac277848b87a68fe384cbb66d9b1",comments:102,intro:"The 10th and final episode of the third Shingeki no Kyojin anime season's second cours ended with an announcement on Monday that the final season will air in Fa..."}]}

describe("get anime news by id", () => {
    it("should return anime news by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/news').reply(200, mockAnimeNewsResponse);

        const anime = new Anime(100);
        const result = await anime.getNews();
        expect(result).toStrictEqual(mockAnimeNewsResponse);
    });
});

const mockAnimePvResponse = {request_hash:"request:anime:0c9664edb49621e8d3ab1e2f5343f067658e5f2b",request_cached:true,request_cache_expiry:67075,promo:[{title:"PV",image_url:"https://i.ytimg.com/vi/SlNpRThS9t8/mqdefault.jpg",video_url:"https://www.youtube.com/embed/SlNpRThS9t8?enablejsapi=1&wmode=opaque&autoplay=1"},{title:"Announcement",image_url:"https://i.ytimg.com/vi/nUE0OyXWMuo/mqdefault.jpg",video_url:"https://www.youtube.com/embed/nUE0OyXWMuo?enablejsapi=1&wmode=opaque&autoplay=1"}],episodes:[{title:"Sole Salvation",episode:"Episode 15",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/15",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Savagery",episode:"Episode 14",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/14",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Children of the Forest",episode:"Episode 13",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/13",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Guides",episode:"Episode 12",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/12",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Deceiver",episode:"Episode 11",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/11",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"A Sound Argument",episode:"Episode 10",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/10",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Brave Volunteers",episode:"Episode 9",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/9",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Assassin's Bullet",episode:"Episode 8",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/8",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Assault",episode:"Episode 7",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/7",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"The War Hammer Titan",episode:"Episode 6",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/6",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Declaration of War",episode:"Episode 5",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/5",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"From One Hand to Another",episode:"Episode 4",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/4",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"The Door of Hope",episode:"Episode 3",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/3",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Midnight Train",episode:"Episode 2",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/2",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"The Other Side of the Sea",episode:"Episode 1",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/1",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"}]}

describe("get anime pv by id", () => {
    it("should return anime pv by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/videos').reply(200, mockAnimePvResponse);

        const anime = new Anime(100);
        const result = await anime.getPV();
        expect(result).toStrictEqual(mockAnimePvResponse);
    });
});

const mockAnimeStatsResponse = {request_hash:"request:anime:0ccc87712f4124d82479613070773b259b02da99",request_cached:true,request_cache_expiry:67361,watching:712311,completed:402,on_hold:9979,dropped:3480,plan_to_watch:163288,total:889460,scores:{"1":{votes:12037,percentage:3.1},"2":{votes:644,percentage:0.2},"3":{votes:558,percentage:0.1},"4":{votes:977,percentage:0.3},"5":{votes:1968,percentage:0.5},"6":{votes:4412,percentage:1.1},"7":{votes:13656,percentage:3.5},"8":{votes:39131,percentage:10.1},"9":{votes:92505,percentage:24},"10":{votes:219980,percentage:57}}}

describe("get anime statistic by id", () => {
    it("should return anime statistic by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/stats').reply(200, mockAnimeStatsResponse);

        const anime = new Anime(100);
        const result = await anime.getStatistics();
        expect(result).toStrictEqual(mockAnimeStatsResponse);
    });
});

const mockAnimeForumResponse = {request_hash:"request:anime:231d4cde043ee2b28cad4900c0f114ea1074ab64",request_cached:true,request_cache_expiry:86400,topics:[{topic_id:1909253,url:"https://myanimelist.net/forum/?topicid=1909253",title:"MHA feels boring after AOT Final season",date_posted:"2021-03-27T00:00:00+00:00",author_name:"AnimeBaka_",author_url:"https://myanimelist.net/profile/AnimeBaka_",replies:29,last_post:{url:"https://myanimelist.net/forum/?topicid=1909253&goto=lastpost",author_name:"matildac",author_url:"https://myanimelist.net/profile/matildac",date_posted:"2021-03-27T16:41:46+00:00"}},{topic_id:1908842,url:"https://myanimelist.net/forum/?topicid=1908842",title:"Where did it go all wrong?",date_posted:"2021-03-25T00:00:00+00:00",author_name:"ToTheMountains",author_url:"https://myanimelist.net/profile/ToTheMountains",replies:100,last_post:{url:"https://myanimelist.net/forum/?topicid=1908842&goto=lastpost",author_name:"SideCharacterKal",author_url:"https://myanimelist.net/profile/SideCharacterKal",date_posted:"2021-03-27T16:31:46+00:00"}},{topic_id:1909093,url:"https://myanimelist.net/forum/?topicid=1909093",title:"Attack on Titan is RUINED",date_posted:"2021-03-26T00:00:00+00:00",author_name:"Berserker_Pickle",author_url:"https://myanimelist.net/profile/Berserker_Pickle",replies:63,last_post:{url:"https://myanimelist.net/forum/?topicid=1909093&goto=lastpost",author_name:"Discussion_123",author_url:"https://myanimelist.net/profile/Discussion_123",date_posted:"2021-03-27T16:29:46+00:00"}},{topic_id:1905518,url:"https://myanimelist.net/forum/?topicid=1905518",title:"Shingeki no Kyojin: The Final Season Episode 14 Discussion",date_posted:"2021-03-14T00:00:00+00:00",author_name:"anime-prime",author_url:"https://myanimelist.net/profile/anime-prime",replies:454,last_post:{url:"https://myanimelist.net/forum/?topicid=1905518&goto=lastpost",author_name:"Animated_Amateur",author_url:"https://myanimelist.net/profile/Animated_Amateur",date_posted:"2021-03-27T16:01:46+00:00"}},{topic_id:1909320,url:"https://myanimelist.net/forum/?topicid=1909320",title:"Unbelievable MAPPA (The Sequel)  ",date_posted:"2021-03-27T00:00:00+00:00",author_name:"Zackack99",author_url:"https://myanimelist.net/profile/Zackack99",replies:7,last_post:{url:"https://myanimelist.net/forum/?topicid=1909320&goto=lastpost",author_name:"kaiki_fan_boy",author_url:"https://myanimelist.net/profile/kaiki_fan_boy",date_posted:"2021-03-27T15:58:46+00:00"}},{topic_id:1909009,url:"https://myanimelist.net/forum/?topicid=1909009",title:"Showcasing MAPPA's compositing and effects work for AoT season 4. What do you think? [Source: CGWorld Vol 272]",date_posted:"2021-03-26T00:00:00+00:00",author_name:"Awesomeness_1307",author_url:"https://myanimelist.net/profile/Awesomeness_1307",replies:46,last_post:{url:"https://myanimelist.net/forum/?topicid=1909009&goto=lastpost",author_name:"Pranal30",author_url:"https://myanimelist.net/profile/Pranal30",date_posted:"2021-03-27T14:58:46+00:00"}},{topic_id:1903524,url:"https://myanimelist.net/forum/?topicid=1903524",title:"Shingeki no Kyojin: The Final Season Episode 13 Discussion",date_posted:"2021-03-07T00:00:00+00:00",author_name:"anime-prime",author_url:"https://myanimelist.net/profile/anime-prime",replies:470,last_post:{url:"https://myanimelist.net/forum/?topicid=1903524&goto=lastpost",author_name:"leviackermanstea",author_url:"https://myanimelist.net/profile/leviackermanstea",date_posted:"2021-03-27T14:58:46+00:00"}},{topic_id:1908914,url:"https://myanimelist.net/forum/?topicid=1908914",title:"AOT Fandom",date_posted:"2021-03-25T00:00:00+00:00",author_name:"_Lyborick_",author_url:"https://myanimelist.net/profile/_Lyborick_",replies:53,last_post:{url:"https://myanimelist.net/forum/?topicid=1908914&goto=lastpost",author_name:"vestun",author_url:"https://myanimelist.net/profile/vestun",date_posted:"2021-03-27T13:58:46+00:00"}},{topic_id:1881146,url:"https://myanimelist.net/forum/?topicid=1881146",title:"General Discussion Thread (Spoilers)",date_posted:"2020-12-10T00:00:00+00:00",author_name:"Koito91",author_url:"https://myanimelist.net/profile/Koito91",replies:4,last_post:{url:"https://myanimelist.net/forum/?topicid=1881146&goto=lastpost",author_name:"Just_Away",author_url:"https://myanimelist.net/profile/Just_Away",date_posted:"2021-03-27T13:58:46+00:00"}},{topic_id:1908419,url:"https://myanimelist.net/forum/?topicid=1908419",title:"Why aot s4 still isn't at no.1 spot in the kost highest rated anime?",date_posted:"2021-03-24T00:00:00+00:00",author_name:"Shanks152",author_url:"https://myanimelist.net/profile/Shanks152",replies:45,last_post:{url:"https://myanimelist.net/forum/?topicid=1908419&goto=lastpost",author_name:"petterson_",author_url:"https://myanimelist.net/profile/petterson_",date_posted:"2021-03-27T13:58:46+00:00"}},{topic_id:1882455,url:"https://myanimelist.net/forum/?topicid=1882455",title:"Guide to cut content from chapters 91 and onwards",date_posted:"2020-12-16T00:00:00+00:00",author_name:"I_Am_Freeballing",author_url:"https://myanimelist.net/profile/I_Am_Freeballing",replies:61,last_post:{url:"https://myanimelist.net/forum/?topicid=1882455&goto=lastpost",author_name:"I_Am_Freeballing",author_url:"https://myanimelist.net/profile/I_Am_Freeballing",date_posted:"2021-03-27T13:58:46+00:00"}},{topic_id:1909099,url:"https://myanimelist.net/forum/?topicid=1909099",title:"Why Attack on Titan will get a movie (s) as a final installment ",date_posted:"2021-03-26T00:00:00+00:00",author_name:"yaegerist-15",author_url:"https://myanimelist.net/profile/yaegerist-15",replies:49,last_post:{url:"https://myanimelist.net/forum/?topicid=1909099&goto=lastpost",author_name:"I_Am_Freeballing",author_url:"https://myanimelist.net/profile/I_Am_Freeballing",date_posted:"2021-03-27T13:58:46+00:00"}},{topic_id:1901518,url:"https://myanimelist.net/forum/?topicid=1901518",title:"Shingeki no Kyojin: The Final Season Episode 12 Discussion",date_posted:"2021-02-28T00:00:00+00:00",author_name:"anime-prime",author_url:"https://myanimelist.net/profile/anime-prime",replies:388,last_post:{url:"https://myanimelist.net/forum/?topicid=1901518&goto=lastpost",author_name:"Animated_Amateur",author_url:"https://myanimelist.net/profile/Animated_Amateur",date_posted:"2021-03-27T12:58:46+00:00"}},{topic_id:1899526,url:"https://myanimelist.net/forum/?topicid=1899526",title:"Shingeki no Kyojin: The Final Season Episode 11 Discussion",date_posted:"2021-02-21T00:00:00+00:00",author_name:"anime-prime",author_url:"https://myanimelist.net/profile/anime-prime",replies:433,last_post:{url:"https://myanimelist.net/forum/?topicid=1899526&goto=lastpost",author_name:"Animated_Amateur",author_url:"https://myanimelist.net/profile/Animated_Amateur",date_posted:"2021-03-27T11:58:46+00:00"}},{topic_id:1907281,url:"https://myanimelist.net/forum/?topicid=1907281",title:"The Chad \"SUSUMEEEE\" vs The Virgin \"I like stuck in a rock hentai\"",date_posted:"2021-03-19T00:00:00+00:00",author_name:"MinorTatu",author_url:"https://myanimelist.net/profile/MinorTatu",replies:24,last_post:{url:"https://myanimelist.net/forum/?topicid=1907281&goto=lastpost",author_name:"DeDeDeath",author_url:"https://myanimelist.net/profile/DeDeDeath",date_posted:"2021-03-27T11:58:46+00:00"}}]}

describe("get anime forum by id", () => {
    it("should return anime forum by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/forum').reply(200, mockAnimeForumResponse);

        const anime = new Anime(100);
        const result = await anime.getForum();
        expect(result).toStrictEqual(mockAnimeForumResponse);
    });
});

const mockAnimeMoreInfoResult = {request_hash:"request:anime:494e1998481ed34206c36d1376dafb98d3b5e941",request_cached:true,request_cache_expiry:86400,moreinfo:"moreinfo"}

describe("get anime moreinfo by id", () => {
    it("should return anime moreinfo by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/moreinfo').reply(200, mockAnimeMoreInfoResult);

        const anime = new Anime(100);
        const result = await anime.getMoreInfo();
        expect(result).toStrictEqual(mockAnimeMoreInfoResult);
    });
});

const mockAnimeReviewsResult = {request_hash:"request:anime:eee67f8c16b470a41920724ab340a1e636848ed9",request_cached:true,request_cache_expiry:73609,reviews:[{mal_id:370206,url:"https://myanimelist.net/reviews.php?id=370206",type:null,helpful_count:1492,date:"2020-12-27T07:13:00+00:00",reviewer:{url:"https://myanimelist.net/profile/Doofenheimer",image_url:"https://cdn.myanimelist.net/images/userimages/8073605.jpg?t=1616814000",username:"Doofenheimer",episodes_seen:4,scores:{overall:10,story:10,animation:9,sound:9,character:9,enjoyment:10}},content:"This review contains spoilers for seasons 1-3, so if you haven’t watched it (And idk how you call yourself an anime fan if you haven’t seen Attack On Titan) then please beware. Also, this review is about mainly the Attack On Titan series in general, not just Season 4. \r\n\r\n\r\n\r\nHere we are, 7 years in the making and we arrive at the finale of the masterpiece that is Attack On Titan. The true king of modern day shonen will have his last bow as he is instituted in the anime hall of fame with the conclusion of the final season. I remember way back in2014 when I first watched Attack On Titan, the hype was insane so I thought I had to watch it. Unfortunately, 10 episodes in, I wasn’t feeling it. I thought it was another typical run of the mill shonen that was overhyped to oblivion. 3 years later comes Season 2 and the hype returned. I decided to finish it through Season 2, and from that moment on, I was hooked. The writing, the directing, the story, the music, the animation, it’s a beautiful combination to perfectly complement a beautiful anime. If you haven’t watched Attack On Titan (Seriously, who the hell hasn’t watched Attack On Titan yet) then please allow yourself to experience true peak fiction. \\n\r\n\\n\r\n\\n\r\nStory: 9.5\\n\r\n\\n\r\nI’d say the moment that made this anime a masterpiece was Season 2 Episode 6. From that episode on, the plot in Attack On Titan became so in depth and fascinating that I cannot comprehend having that creative of a mind. The first season fell victim to being pretty cliche and started off as very generic in terms of shonen troupes. The only thing that kept people hooked was the very unique setting and situations they were faced with. And I continued to believe that until Season 2 Episode 6, the great reveal. The revealing of Reiner and Bertoldt being the Armored and Colossal Titan. That was the first of many mind blowing plot twist that happen in this show, and needless to say, I was shook. The ability Hajime Isayama has to hide such major plot points in plain sight truly baffles me. I didn’t think it could get better, then Season 3 arrived. The Uprising Arc really expanded the setting to not just the scouts but also the political structure of the walls and how distrust between the military and the higher ups can cause chaos against humans vs humans. It showed the viewers that the Titans aren’t the only enemy’s that are in this show and it is fantastically done. Then, Oh lawd, and then we were blessed with Season 3 Part 2. How perfect and utterly flawless those 10 episodes were. Erwin’s Charge, Levi vs Beast Titan, the basement reveal, the explanation of mostly all questions we had while simultaneously creating even more questions. 3 of those 10 episodes have the highest rating out of any anime episode in history, and they're all back to back. I have literally yet to meet a human being who has watched Attack On Titan up to this point and still thinks it’s less than an 8/10. And now we arrive at Season 4. I have read the manga so I do know what happens next and I will tell you, if MAPPA does it’s thing, the final season will be fit for such a beautiful series. The story in Attack On Titan is something we will never see ever again. \\n\r\n\\n\r\nArt: 9\\n\r\n\\n\r\nWIT and MAPPA need no introduction in the anime scene and they are very high quality studios. The only main complaint I have is the main complaint for most people, the CGI. The Colossal Titan has always had shifty CGI and I hope MAPPA can improve the way they use theirs.\\n\r\n\\n\r\nSound: 9 \\n\r\n\\n\r\nNo complaints here, the openings are legendary and the endings to par.\\n\r\n\\n\r\nCharacters: 8.5\\n\r\n\\n\r\nIf you pointed a gun at my head and forced me to say something bad about Attack On Titan, I would have to say the supporting characters, specifically the other scouts. I’m not saying they are poorly written, far from it, it’s just that they are more 2 dimensional then other characters. Connie, Sasha, Jean etc. are all decent characters, but that’s my complaint, their just decent. Of course though you have very well written and amazing characters like Eren, Erwin, Levi, Reiner, Kenny, Zeke etc. but you also have some of these more mediocre characters as well. I mean hell, the characters on the Marley side have more depth than the scouts tbh. Other than that, the characters are so god damn good, as a manga reader, Eren is one of my favorite anime characters of all time. Reiner’s struggles, Zeke’s push and pull between himself and Eldia, Erwin’s selfishness to his dream is something that just blows me away. Fantastic writing from a fantastic author.\\n\r\n\\n\r\nEnjoyment: 10\\n\r\n\\n\r\nAfter initially dropping it after the 10 episodes of Season 1 and rewatching it, I binged the entire thing in less than a week easy. And I could do it again just as easily. It’s literally impossible to get bored or sluggish when it comes to this anime, it’s a full fledged masterpiece. I caught up to the manga in 2 days, and if MAPPA can animate it correctly, this anime will without a doubt in my god damn mind go into the hall of fame as a classic to behold. I leave it to you MAPPA, take us home.\\n\r\n\\n\r\nOverall: 10\\n\r\n\\n\r\nIf you’ve looked at my anime list or seen my reviews, I don’t like shonen, I think the genre is very overrated. However, Attack On Titan is the diamond in the rough, it was an absolute treat to watch this anime and when it’s finally time for it to come to rest, I will be proud to say: I watched Attack On Titan."}]}

describe("get anime reviews by id", () => {
    it("should return anime reviews by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/reviews/1').reply(200, mockAnimeReviewsResult);

        const anime = new Anime(100);
        const result = await anime.getReviews();
        expect(result).toStrictEqual(mockAnimeReviewsResult);
    });
});

const mockAnimeRecommendationsResult = {request_hash:"request:anime:310644adeeae949148432c8c932b3f53c40adb75",request_cached:true,request_cache_expiry:65041,recommendations:[{mal_id:32615,url:"https://myanimelist.net/anime/32615/Youjo_Senki",image_url:"https://cdn.myanimelist.net/images/anime/5/82890.jpg?s=b8b3b76d7d72c1730859e6e0f7a88dd7",recommendation_url:"https://myanimelist.net/recommendations/anime/32615-40028",title:"Youjo Senki",recommendation_count:6},{mal_id:820,url:"https://myanimelist.net/anime/820/Ginga_Eiyuu_Densetsu",image_url:"https://cdn.myanimelist.net/images/anime/13/13225.jpg?s=385cedad342e284c5765833ab1cddc1c",recommendation_url:"https://myanimelist.net/recommendations/anime/820-40028",title:"Ginga Eiyuu Densetsu",recommendation_count:3},{mal_id:2904,url:"https://myanimelist.net/anime/2904/Code_Geass__Hangyaku_no_Lelouch_R2",image_url:"https://cdn.myanimelist.net/images/anime/4/9391.jpg?s=be052972605dd5422ef2df117766cff0",recommendation_url:"https://myanimelist.net/recommendations/anime/2904-40028",title:"Code Geass: Hangyaku no Lelouch R2",recommendation_count:2},{mal_id:37521,url:"https://myanimelist.net/anime/37521/Vinland_Saga",image_url:"https://cdn.myanimelist.net/images/anime/1500/103005.jpg?s=b21dbd168612f531ce4eec9bd53e272b",recommendation_url:"https://myanimelist.net/recommendations/anime/37521-40028",title:"Vinland Saga",recommendation_count:2},{mal_id:5114,url:"https://myanimelist.net/anime/5114/Fullmetal_Alchemist__Brotherhood",image_url:"https://cdn.myanimelist.net/images/anime/1223/96541.jpg?s=faffcb677a5eacd17bf761edd78bfb3f",recommendation_url:"https://myanimelist.net/recommendations/anime/5114-40028",title:"Fullmetal Alchemist: Brotherhood",recommendation_count:2},{mal_id:38000,url:"https://myanimelist.net/anime/38000/Kimetsu_no_Yaiba",image_url:"https://cdn.myanimelist.net/images/anime/1286/99889.jpg?s=e497d08bef31ae412e314b90a54acfda",recommendation_url:"https://myanimelist.net/recommendations/anime/38000-40028",title:"Kimetsu no Yaiba",recommendation_count:2},{mal_id:28623,url:"https://myanimelist.net/anime/28623/Koutetsujou_no_Kabaneri",image_url:"https://cdn.myanimelist.net/images/anime/12/79164.jpg?s=a82c4752209d50efea1c63f96506607c",recommendation_url:"https://myanimelist.net/recommendations/anime/28623-40028",title:"Koutetsujou no Kabaneri",recommendation_count:2},{mal_id:37799,url:"https://myanimelist.net/anime/37799/Tokyo_Ghoul_re_2nd_Season",image_url:"https://cdn.myanimelist.net/images/anime/1271/95623.jpg?s=6172cd1a8ea32e7547111676fd3d6fb4",recommendation_url:"https://myanimelist.net/recommendations/anime/37799-40028",title:"Tokyo Ghoul:re 2nd Season",recommendation_count:1},{mal_id:6773,url:"https://myanimelist.net/anime/6773/Shakugan_no_Shana_III_Final",image_url:"https://cdn.myanimelist.net/images/anime/9/32539.jpg?s=375c5203e61c066660712cc5c333b7fb",recommendation_url:"https://myanimelist.net/recommendations/anime/6773-40028",title:"Shakugan no Shana III (Final)",recommendation_count:1},{mal_id:165,url:"https://myanimelist.net/anime/165/RahXephon",image_url:"https://cdn.myanimelist.net/images/anime/13/75168.jpg?s=13e581debb006a232d5adc0bfc528675",recommendation_url:"https://myanimelist.net/recommendations/anime/165-40028",title:"RahXephon",recommendation_count:1},{mal_id:22687,url:"https://myanimelist.net/anime/22687/Terra_Formars",image_url:"https://cdn.myanimelist.net/images/anime/2/67117.jpg?s=d5700bc4ce3292f387eb7cd93e557fba",recommendation_url:"https://myanimelist.net/recommendations/anime/22687-40028",title:"Terra Formars",recommendation_count:1},{mal_id:23283,url:"https://myanimelist.net/anime/23283/Zankyou_no_Terror",image_url:"https://cdn.myanimelist.net/images/anime/4/64447.jpg?s=a629ac7ec636b797ddc0299770061d41",recommendation_url:"https://myanimelist.net/recommendations/anime/23283-40028",title:"Zankyou no Terror",recommendation_count:1},{mal_id:22535,url:"https://myanimelist.net/anime/22535/Kiseijuu__Sei_no_Kakuritsu",image_url:"https://cdn.myanimelist.net/images/anime/3/73178.jpg?s=aeb28b4778c7bcdfcb0004cbb1a55523",recommendation_url:"https://myanimelist.net/recommendations/anime/22535-40028",title:"Kiseijuu: Sei no Kakuritsu",recommendation_count:1}]}

describe("get anime recommendations by id", () => {
    it("should return anime recommendations by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/recommendations').reply(200, mockAnimeRecommendationsResult);

        const anime = new Anime(100);
        const result = await anime.getRecommendations();
        expect(result).toStrictEqual(mockAnimeRecommendationsResult);
    });
});

const mockAnimeUserUpdatesResult = {request_hash:"request:anime:a22506cee2fe1ef5f12ee40b66a77b2f1ce07374",request_cached:false,request_cache_expiry:86400,users:[{username:"yvnera",url:"https://myanimelist.net/profile/yvnera",image_url:"https://cdn.myanimelist.net/images/userimages/12222851.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:47:20+00:00"},{username:"Ereh_Jaeger_",url:"https://myanimelist.net/profile/Ereh_Jaeger_",image_url:"https://cdn.myanimelist.net/images/userimages/9442591.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:47:20+00:00"},{username:"Eugenefindit",url:"https://myanimelist.net/profile/Eugenefindit",image_url:"https://cdn.myanimelist.net/images/userimages/6028087.jpg?t=1616865600",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:47:20+00:00"},{username:"Smogma",url:"https://myanimelist.net/profile/Smogma",image_url:"https://cdn.myanimelist.net/images/userimages/10328360.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"OnlyaBunny",url:"https://myanimelist.net/profile/OnlyaBunny",image_url:"https://cdn.myanimelist.net/images/userimages/8798121.jpg?t=1616863800",score:null,status:"Watching",episodes_seen:11,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"Zzzzllllll",url:"https://myanimelist.net/profile/Zzzzllllll",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:10,status:"Completed",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"yyitt29",url:"https://myanimelist.net/profile/yyitt29",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Completed",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"DerYarro",url:"https://myanimelist.net/profile/DerYarro",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"YxngOli",url:"https://myanimelist.net/profile/YxngOli",image_url:"https://cdn.myanimelist.net/images/userimages/11592135.jpg?t=1616865000",score:8,status:"Watching",episodes_seen:13,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"Vittorio1",url:"https://myanimelist.net/profile/Vittorio1",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Plan to Watch",episodes_seen:null,episodes_total:null,date:"2021-03-27T16:46:20+00:00"},{username:"Luka098",url:"https://myanimelist.net/profile/Luka098",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"Mitoruu",url:"https://myanimelist.net/profile/Mitoruu",image_url:"https://cdn.myanimelist.net/images/userimages/5994951.jpg?t=1616865600",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"Marley2003",url:"https://myanimelist.net/profile/Marley2003",image_url:"https://cdn.myanimelist.net/images/userimages/10344561.jpg?t=1616863800",score:null,status:"Dropped",episodes_seen:10,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"stellafyt",url:"https://myanimelist.net/profile/stellafyt",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"biserKashona",url:"https://myanimelist.net/profile/biserKashona",image_url:"https://cdn.myanimelist.net/images/userimages/11049405.jpg?t=1616864400",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"dzonyflp",url:"https://myanimelist.net/profile/dzonyflp",image_url:"https://cdn.myanimelist.net/images/userimages/9820647.jpg?t=1616864400",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"unholyconfession",url:"https://myanimelist.net/profile/unholyconfession",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"AncientMinority",url:"https://myanimelist.net/profile/AncientMinority",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:46:20+00:00"},{username:"IntensiveMoaning",url:"https://myanimelist.net/profile/IntensiveMoaning",image_url:"https://cdn.myanimelist.net/images/userimages/11870022.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:13,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"flakewater",url:"https://myanimelist.net/profile/flakewater",image_url:"https://cdn.myanimelist.net/images/userimages/3463951.jpg?t=1616863800",score:null,status:"Completed",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"Melonexploshen",url:"https://myanimelist.net/profile/Melonexploshen",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:9,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"vindemiatrixx",url:"https://myanimelist.net/profile/vindemiatrixx",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:8,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"Zukospride",url:"https://myanimelist.net/profile/Zukospride",image_url:"https://cdn.myanimelist.net/images/userimages/11452402.jpg?t=1616864400",score:10,status:"Completed",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"Mirul98",url:"https://myanimelist.net/profile/Mirul98",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"brynnmarina14",url:"https://myanimelist.net/profile/brynnmarina14",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:9,status:"Watching",episodes_seen:8,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"ChocoMog03",url:"https://myanimelist.net/profile/ChocoMog03",image_url:"https://cdn.myanimelist.net/images/userimages/5558321.jpg?t=1616865000",score:10,status:"Watching",episodes_seen:7,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"kartikprajapati",url:"https://myanimelist.net/profile/kartikprajapati",image_url:"https://cdn.myanimelist.net/images/userimages/6163395.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"ersiangbulilit",url:"https://myanimelist.net/profile/ersiangbulilit",image_url:"https://cdn.myanimelist.net/images/userimages/11175814.jpg?t=1616863800",score:null,status:"Watching",episodes_seen:11,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"Keshaim",url:"https://myanimelist.net/profile/Keshaim",image_url:"https://cdn.myanimelist.net/images/userimages/11501330.jpg?t=1616864400",score:9,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"MissYorozuya",url:"https://myanimelist.net/profile/MissYorozuya",image_url:"https://cdn.myanimelist.net/images/userimages/3866867.jpg?t=1616865600",score:null,status:"Watching",episodes_seen:13,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"Kamimako",url:"https://myanimelist.net/profile/Kamimako",image_url:"https://cdn.myanimelist.net/images/userimages/6945616.jpg?t=1616865600",score:9,status:"Watching",episodes_seen:10,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"NozomiK",url:"https://myanimelist.net/profile/NozomiK",image_url:"https://cdn.myanimelist.net/images/userimages/10072185.jpg?t=1616865000",score:7,status:"Watching",episodes_seen:2,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"ahmedshajath",url:"https://myanimelist.net/profile/ahmedshajath",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:5,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"Suchiiii",url:"https://myanimelist.net/profile/Suchiiii",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"NonWhite",url:"https://myanimelist.net/profile/NonWhite",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:null,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"Anime_Starter",url:"https://myanimelist.net/profile/Anime_Starter",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:45:20+00:00"},{username:"NWeiss117",url:"https://myanimelist.net/profile/NWeiss117",image_url:"https://cdn.myanimelist.net/images/userimages/11116163.jpg?t=1616863800",score:9,status:"Watching",episodes_seen:12,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"Hsgsstatagsghdid",url:"https://myanimelist.net/profile/Hsgsstatagsghdid",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:1,status:"Watching",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"batwoif",url:"https://myanimelist.net/profile/batwoif",image_url:"https://cdn.myanimelist.net/images/userimages/12301170.jpg?t=1616863800",score:null,status:"Completed",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"lucasalvvez",url:"https://myanimelist.net/profile/lucasalvvez",image_url:"https://cdn.myanimelist.net/images/userimages/6830070.jpg?t=1616865000",score:5,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"perfumegenius",url:"https://myanimelist.net/profile/perfumegenius",image_url:"https://cdn.myanimelist.net/images/userimages/9844544.jpg?t=1616864400",score:null,status:"Watching",episodes_seen:11,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"marimoshit",url:"https://myanimelist.net/profile/marimoshit",image_url:"https://cdn.myanimelist.net/images/userimages/7642080.jpg?t=1616865600",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"MIL6677",url:"https://myanimelist.net/profile/MIL6677",image_url:"https://cdn.myanimelist.net/images/userimages/7858360.jpg?t=1616864400",score:10,status:"Watching",episodes_seen:14,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"mariom66",url:"https://myanimelist.net/profile/mariom66",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"EmilieBird",url:"https://myanimelist.net/profile/EmilieBird",image_url:"https://cdn.myanimelist.net/images/userimages/8800195.jpg?t=1616865000",score:9,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"hassage",url:"https://myanimelist.net/profile/hassage",image_url:"https://cdn.myanimelist.net/images/userimages/5417207.jpg?t=1616865000",score:9,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"fabianWN9",url:"https://myanimelist.net/profile/fabianWN9",image_url:"https://cdn.myanimelist.net/images/userimages/9038513.jpg?t=1616863800",score:null,status:"Watching",episodes_seen:11,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"ZireSkies",url:"https://myanimelist.net/profile/ZireSkies",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"Cyberarc",url:"https://myanimelist.net/profile/Cyberarc",image_url:"https://cdn.myanimelist.net/images/userimages/11644062.jpg?t=1616863800",score:7,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"8bitgogo",url:"https://myanimelist.net/profile/8bitgogo",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"Erza_Scarlet510",url:"https://myanimelist.net/profile/Erza_Scarlet510",image_url:"https://cdn.myanimelist.net/images/userimages/10896421.jpg?t=1616864400",score:null,status:"Completed",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"fullmetalgiro",url:"https://myanimelist.net/profile/fullmetalgiro",image_url:"https://cdn.myanimelist.net/images/userimages/12111597.jpg?t=1616863800",score:null,status:"Watching",episodes_seen:6,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"Jakeyyyy",url:"https://myanimelist.net/profile/Jakeyyyy",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:10,status:"Completed",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"Tyson1601",url:"https://myanimelist.net/profile/Tyson1601",image_url:"https://cdn.myanimelist.net/images/userimages/10844395.jpg?t=1616863800",score:7,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"PdrLucas",url:"https://myanimelist.net/profile/PdrLucas",image_url:"https://cdn.myanimelist.net/images/userimages/8324085.jpg?t=1616863800",score:6,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:44:20+00:00"},{username:"pxrple_peach",url:"https://myanimelist.net/profile/pxrple_peach",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"PpMaster128",url:"https://myanimelist.net/profile/PpMaster128",image_url:"https://cdn.myanimelist.net/images/userimages/10641226.jpg?t=1616865600",score:null,status:"Watching",episodes_seen:8,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"MaxBk77",url:"https://myanimelist.net/profile/MaxBk77",image_url:"https://cdn.myanimelist.net/images/userimages/11124698.jpg?t=1616863800",score:9,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"ImKarmaBoi",url:"https://myanimelist.net/profile/ImKarmaBoi",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Plan to Watch",episodes_seen:null,episodes_total:null,date:"2021-03-27T16:43:20+00:00"},{username:"KerbSDvid",url:"https://myanimelist.net/profile/KerbSDvid",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:10,status:"Completed",episodes_seen:16,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"DrDynamite",url:"https://myanimelist.net/profile/DrDynamite",image_url:"https://cdn.myanimelist.net/images/userimages/10921535.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"_Nanoo_0",url:"https://myanimelist.net/profile/_Nanoo_0",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"hanseljmr",url:"https://myanimelist.net/profile/hanseljmr",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:8,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"LingLiam",url:"https://myanimelist.net/profile/LingLiam",image_url:"https://cdn.myanimelist.net/images/userimages/12303878.jpg?t=1616865600",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"Strathausen",url:"https://myanimelist.net/profile/Strathausen",image_url:"https://cdn.myanimelist.net/images/userimages/8370656.jpg?t=1616865600",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"Mon74",url:"https://myanimelist.net/profile/Mon74",image_url:"https://cdn.myanimelist.net/images/userimages/8801130.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"Chimchimrk",url:"https://myanimelist.net/profile/Chimchimrk",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"renblei",url:"https://myanimelist.net/profile/renblei",image_url:"https://cdn.myanimelist.net/images/userimages/9236716.jpg?t=1616863800",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"FoX05",url:"https://myanimelist.net/profile/FoX05",image_url:"https://cdn.myanimelist.net/images/userimages/6504175.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"fortu_",url:"https://myanimelist.net/profile/fortu_",image_url:"https://cdn.myanimelist.net/images/userimages/10512391.jpg?t=1616863800",score:9,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"Shiroyasha55",url:"https://myanimelist.net/profile/Shiroyasha55",image_url:"https://cdn.myanimelist.net/images/userimages/4933813.jpg?t=1616863800",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"MiluArwen",url:"https://myanimelist.net/profile/MiluArwen",image_url:"https://cdn.myanimelist.net/images/userimages/6347205.jpg?t=1616863800",score:null,status:"Watching",episodes_seen:14,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"4bdirahman",url:"https://myanimelist.net/profile/4bdirahman",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:43:20+00:00"},{username:"leedenysson",url:"https://myanimelist.net/profile/leedenysson",image_url:"https://cdn.myanimelist.net/images/questionmark_50.gif",score:null,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:42:20+00:00"},{username:"Djufin",url:"https://myanimelist.net/profile/Djufin",image_url:"https://cdn.myanimelist.net/images/userimages/8444153.jpg?t=1616863800",score:10,status:"Watching",episodes_seen:15,episodes_total:16,date:"2021-03-27T16:42:20+00:00"}]}

describe("get anime user updates by id", () => {
    it("should return anime user updates by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/userupdates/1').reply(200, mockAnimeUserUpdatesResult);

        const anime = new Anime(100);
        const result = await anime.getUserUpdates();
        expect(result).toStrictEqual(mockAnimeUserUpdatesResult);
    });
});
