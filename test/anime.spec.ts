import nock from 'nock';
import { Anime } from '../src/Anime'

// tslint:disable:max-line-length
const mockAnimeGenericResponse = { request_hash: "request:anime:b2748716b753dd75fb9dbc52a29f337e5df14bcb", request_cached: true, request_cache_expiry: 26882, mal_id: 100, url: "https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear", image_url: "https://cdn.myanimelist.net/images/anime/9/11709.jpg", trailer_url: null, title: "Shin Shirayuki-hime Densetsu Prétear", title_english: "Prétear: The New Legend of Snow White", title_japanese: "新白雪姫伝説プリーティア", title_synonyms: ["Shin Shirayuki-hime Densetsu Pretear"], type: "TV", source: "Manga", episodes: 13, status: "Finished Airing", airing: false, aired: { from: "2001-04-04T00:00:00+00:00", to: "2001-06-27T00:00:00+00:00", prop: { from: { day: 4, month: 4, year: 2001 }, to: { day: 27, month: 6, year: 2001 } }, string: "Apr 4, 2001 to Jun 27, 2001" }, duration: "23 min per ep", rating: "PG-13 - Teens 13 or older", score: 7.19, scored_by: 24909, rank: 2804, popularity: 2183, members: 54204, favorites: 461, synopsis: "Due to her father's remarriage, robust 16-year-old Himeno Awayuki moves into a large mansion with a beautiful garden—the quintessential dream house for any girl her age. However, much to Himeno's disappointment, her new stepfamily doesn't really seem to like her, as her stepmother often occupies herself with her father, her younger stepsister Mawata ignores her, and her other stepsister—the equally aged Mayune—tries to prank her at every opportunity. But Himeno doesn't have time to dwell into thoughts of hopelessness—her new life has now become involved with a group of seven magical boys known as the Leafe Knights, after they ask her to become a magical princess who can borrow their powers! Although Himeno accepts their request and becomes the Prétear, she feels doubtful in her abilities to protect the world and its Leafe, the source of energy for all life. Will Himeno be able to find happiness among her new family and also save the Earth from the enemy, the Princess of Disaster? [Written by MAL Rewrite]", background: null, premiered: "Spring 2001", broadcast: "Wednesdays at 18:30 (JST)", related: { Adaptation: [{ mal_id: 1248, type: "manga", name: "Shin Shirayuki-hime Densetsu Pretear", url: "https://myanimelist.net/manga/1248/Shin_Shirayuki-hime_Densetsu_Pretear" }] }, producers: [{ mal_id: 113, type: "anime", name: "Kadokawa Shoten", url: "https://myanimelist.net/anime/producer/113/Kadokawa_Shoten" }, { mal_id: 160, type: "anime", name: "Rondo Robe", url: "https://myanimelist.net/anime/producer/160/Rondo_Robe" }], licensors: [{ mal_id: 97, type: "anime", name: "ADV Films", url: "https://myanimelist.net/anime/producer/97/ADV_Films" }, { mal_id: 102, type: "anime", name: "Funimation", url: "https://myanimelist.net/anime/producer/102/Funimation" }], studios: [{ mal_id: 34, type: "anime", name: "Hal Film Maker", url: "https://myanimelist.net/anime/producer/34/Hal_Film_Maker" }], genres: [{ mal_id: 4, type: "anime", name: "Comedy", url: "https://myanimelist.net/anime/genre/4/Comedy" }, { mal_id: 8, type: "anime", name: "Drama", url: "https://myanimelist.net/anime/genre/8/Drama" }, { mal_id: 10, type: "anime", name: "Fantasy", url: "https://myanimelist.net/anime/genre/10/Fantasy" }, { mal_id: 16, type: "anime", name: "Magic", url: "https://myanimelist.net/anime/genre/16/Magic" }, { mal_id: 22, type: "anime", name: "Romance", url: "https://myanimelist.net/anime/genre/22/Romance" }, { mal_id: 25, type: "anime", name: "Shoujo", url: "https://myanimelist.net/anime/genre/25/Shoujo" }, { mal_id: 31, type: "anime", name: "Super Power", url: "https://myanimelist.net/anime/genre/31/Super_Power" }], opening_themes: ["\"White destiny\" by Ishida Yoko"], ending_themes: ["\"Lucky Star\" by Yoshida Sayuri"] }

describe("get anime by id", () => {
    it("should return anime with generic information", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100').reply(200, mockAnimeGenericResponse);

        const anime = new Anime(100);
        const result = await anime.get();
        expect(result).toStrictEqual(mockAnimeGenericResponse);
    });
});

const mockAnimeCharacterStaffResponse = {request_hash:"request:anime:83e5ac96ee4ecc7ca853406b958c794e1d405778",request_cached:true,request_cache_expiry:29900,characters:[{mal_id:545,url:"https://myanimelist.net/character/545/Himeno_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/12/118248.jpg?s=e7a98f344c09cc401fb6dae885701a3b",name:"Awayuki, Himeno",role:"Main",voice_actors:[{mal_id:189,name:"Christian, Luci",url:"https://myanimelist.net/people/189/Luci_Christian",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/49236.jpg?s=731f7c9032263f267b4896750d2d8301",language:"English"},{mal_id:5246,name:"Yoshida, Sayuri",url:"https://myanimelist.net/people/5246/Sayuri_Yoshida",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/10861.jpg?s=712d5518019d47eda37b3a3ccb6b39b7",language:"Japanese"},{mal_id:767,name:"De Bortoli, Federica",url:"https://myanimelist.net/people/767/Federica_De_Bortoli",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/811.jpg?s=43a81ad717d6ccbd7bcb175ddec49bd8",language:"Italian"}]},{mal_id:546,url:"https://myanimelist.net/character/546/Hayate",image_url:"https://cdn.myanimelist.net/images/characters/8/85544.jpg?s=186689ac3627562e9f2eb76171e85bab",name:"Hayate",role:"Main",voice_actors:[{mal_id:97,name:"Toriumi, Kousuke",url:"https://myanimelist.net/people/97/Kousuke_Toriumi",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/56756.jpg?s=da69abd19900e74ae5817ffc973cb65a",language:"Japanese"},{mal_id:282,name:"Guardiola, Illich",url:"https://myanimelist.net/people/282/Illich_Guardiola",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/20771.jpg?s=c27ebd4eafaba557d15b625820f952f5",language:"English"},{mal_id:774,name:"D'Andrea, Simone",url:"https://myanimelist.net/people/774/Simone_DAndrea",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/37129.jpg?s=779b89c1a4d137a20af51d309811c938",language:"Italian"}]},{mal_id:547,url:"https://myanimelist.net/character/547/Sasame",image_url:"https://cdn.myanimelist.net/images/characters/2/51322.jpg?s=10e777a27c4426db189c5b81ebda3fef",name:"Sasame",role:"Main",voice_actors:[{mal_id:79,name:"Sakurai, Takahiro",url:"https://myanimelist.net/people/79/Takahiro_Sakurai",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/62791.jpg?s=e63f4d0ee3e5817a7017f3ce182d040d",language:"Japanese"},{mal_id:190,name:"Patton, Chris",url:"https://myanimelist.net/people/190/Chris_Patton",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/23615.jpg?s=72a3807fdfe9c303786ca09e6ddd9977",language:"English"},{mal_id:20240,name:"Vivio, Marco",url:"https://myanimelist.net/people/20240/Marco_Vivio",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/22856.jpg?s=19af766f78c7f9e8c1b4217b21730eb5",language:"Italian"}]},{mal_id:553,url:"https://myanimelist.net/character/553/Takako",image_url:"https://cdn.myanimelist.net/images/characters/10/47210.jpg?s=ab1d54e0b8349a87d2c80e7484bd43f4",name:"Takako",role:"Main",voice_actors:[{mal_id:28,name:"Horie, Yui",url:"https://myanimelist.net/people/28/Yui_Horie",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/55669.jpg?s=39478d5431fa2c866735de2586e2c6b1",language:"Japanese"},{mal_id:6435,name:"Coker, Kaytha",url:"https://myanimelist.net/people/6435/Kaytha_Coker",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/11595.jpg?s=0a8e6b3fb62b35ebef9fc9a7b6321365",language:"English"},{mal_id:1088,name:"Magnaghi, Debora",url:"https://myanimelist.net/people/1088/Debora_Magnaghi",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/15553.jpg?s=19a8906c1ca33350a521145688fda972",language:"Italian"}]},{mal_id:556,url:"https://myanimelist.net/character/556/Kaoru_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/4/58350.jpg?s=ab96f1da53098ac40e71b499c2db06b1",name:"Awayuki, Kaoru",role:"Supporting",voice_actors:[{mal_id:39,name:"Douglas, Jason",url:"https://myanimelist.net/people/39/Jason_Douglas",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/37773.jpg?s=cdf3406e16b732c383c3b8ccc1a6fe0c",language:"English"},{mal_id:58,name:"Ueda, Yuuji",url:"https://myanimelist.net/people/58/Yuuji_Ueda",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/55457.jpg?s=f2380cbee0b701e6aa47484181a86fe9",language:"Japanese"},{mal_id:1293,name:"Calindri, Gabriele",url:"https://myanimelist.net/people/1293/Gabriele_Calindri",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/1286.jpg?s=34b69d582add54f4f589317d9f9c6d25",language:"Italian"}]},{mal_id:557,url:"https://myanimelist.net/character/557/Natsue_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/7/56821.jpg?s=39d7d6ee9fbd2fd27b29632a48183903",name:"Awayuki, Natsue",role:"Supporting",voice_actors:[{mal_id:195,name:"Inoue, Kikuko",url:"https://myanimelist.net/people/195/Kikuko_Inoue",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/35155.jpg?s=2013a0ff3e2422c3a589679e6361c68e",language:"Japanese"},{mal_id:1663,name:"Silvestri, Marcella",url:"https://myanimelist.net/people/1663/Marcella_Silvestri",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/1568.jpg?s=0abf531c41a6ba408f8607f6d8cd2c2f",language:"Italian"}]},{mal_id:555,url:"https://myanimelist.net/character/555/Mawata_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/3/53253.jpg?s=4aebc1da0e34cc181262406e62c2d868",name:"Awayuki, Mawata",role:"Supporting",voice_actors:[{mal_id:239,name:"Kanda, Akemi",url:"https://myanimelist.net/people/239/Akemi_Kanda",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/55016.jpg?s=2ba77f0054b39f4b7d2e20a7ac36a9e1",language:"Japanese"},{mal_id:888,name:"Clark, Mandy",url:"https://myanimelist.net/people/888/Mandy_Clark",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/28189.jpg?s=b255d529b1c9d79a2c0c165a70fe37ff",language:"English"},{mal_id:14583,name:"Amendola, Alessia",url:"https://myanimelist.net/people/14583/Alessia_Amendola",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/15219.jpg?s=68c9546b8c582fc221498c720acce2fd",language:"Italian"}]},{mal_id:554,url:"https://myanimelist.net/character/554/Mayune_Awayuki",image_url:"https://cdn.myanimelist.net/images/characters/3/55092.jpg?s=19c0dcd030419a65d3fe9fb2dc8d5ebd",name:"Awayuki, Mayune",role:"Supporting",voice_actors:[{mal_id:3,name:"Yukino, Satsuki",url:"https://myanimelist.net/people/3/Satsuki_Yukino",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/18113.jpg?s=e6c1fb4e158cc6d7d3421b0bd6e33821",language:"Japanese"},{mal_id:193,name:"Calene-Black, Shelley",url:"https://myanimelist.net/people/193/Shelley_Calene-Black",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/40186.jpg?s=48af019410eb323cc635f8979a718697",language:"English"},{mal_id:1090,name:"Pacotto, Emanuela",url:"https://myanimelist.net/people/1090/Emanuela_Pacotto",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/28987.jpg?s=5c2fd7a61117beb4b7351f572bb5a52a",language:"Italian"}]},{mal_id:549,url:"https://myanimelist.net/character/549/Goh",image_url:"https://cdn.myanimelist.net/images/characters/3/51321.jpg?s=6c7ef4ffdb6cfd18e2c2b95cfe0890f2",name:"Goh",role:"Supporting",voice_actors:[{mal_id:150,name:"Spencer, Spike",url:"https://myanimelist.net/people/150/Spike_Spencer",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/36487.jpg?s=1cba3de55c3f166f8f322914de2c6518",language:"English"},{mal_id:178,name:"Morikubo, Shoutarou",url:"https://myanimelist.net/people/178/Shoutarou_Morikubo",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/57108.jpg?s=7419c769d2d3c4a9a45bb61d2e788d7f",language:"Japanese"},{mal_id:1087,name:"Iacono, Gianluca",url:"https://myanimelist.net/people/1087/Gianluca_Iacono",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/37125.jpg?s=3a1e02f697e98262309bca2797d0575e",language:"Italian"}]},{mal_id:551,url:"https://myanimelist.net/character/551/Hajime",image_url:"https://cdn.myanimelist.net/images/characters/8/51409.jpg?s=2367af9d82290519a517e0599e90a2ff",name:"Hajime",role:"Supporting",voice_actors:[{mal_id:151,name:"Haag, Hilary",url:"https://myanimelist.net/people/151/Hilary_Haag",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/41024.jpg?s=24e61fc47fb7f7b139f6181e5f1ad6e8",language:"English"},{mal_id:207,name:"Fukuen, Misato",url:"https://myanimelist.net/people/207/Misato_Fukuen",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/43879.jpg?s=c48798551846ed426f7a9f2870e41817",language:"Japanese"},{mal_id:20092,name:"Meli, Manuel",url:"https://myanimelist.net/people/20092/Manuel_Meli",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/38667.jpg?s=c9f7c081fd4ae857aef8a0f1b8c3c82f",language:"Italian"}]},{mal_id:548,url:"https://myanimelist.net/character/548/Kei",image_url:"https://cdn.myanimelist.net/images/characters/11/51408.jpg?s=dc6361caf31aabf081abab004e13c7dd",name:"Kei",role:"Supporting",voice_actors:[{mal_id:1290,name:"Graziano, Leonardo",url:"https://myanimelist.net/people/1290/Leonardo_Graziano",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/1282.jpg?s=c9121f5e9146e6e91508ce71bea2ff39",language:"Italian"},{mal_id:6145,name:"Naruse, Makoto",url:"https://myanimelist.net/people/6145/Makoto_Naruse",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/55933.jpg?s=8f707ff59c72240a5df190acced75e41",language:"Japanese"},{mal_id:12492,name:"Carsrud, Victor",url:"https://myanimelist.net/people/12492/Victor_Carsrud",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/12220.jpg?s=22865eda9fa6da373b6af73222c9189a",language:"English"}]},{mal_id:550,url:"https://myanimelist.net/character/550/Mannen",image_url:"https://cdn.myanimelist.net/images/characters/15/51320.jpg?s=dc008b3047a66c33e38ba12c0dd52f43",name:"Mannen",role:"Supporting",voice_actors:[{mal_id:148,name:"Yajima, Akiko",url:"https://myanimelist.net/people/148/Akiko_Yajima",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/33521.jpg?s=f91f0b5f04823cdb4e8b7cb731d7c8a7",language:"Japanese"},{mal_id:192,name:"Ayres, Greg",url:"https://myanimelist.net/people/192/Greg_Ayres",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/12455.jpg?s=a34115be18946ae76075034079a167b7",language:"English"},{mal_id:15567,name:"Patriarca, Gabriele",url:"https://myanimelist.net/people/15567/Gabriele_Patriarca",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/16891.jpg?s=2cac7595faa48064d36d99e17551e63a",language:"Italian"}]},{mal_id:552,url:"https://myanimelist.net/character/552/Shin",image_url:"https://cdn.myanimelist.net/images/characters/10/51318.jpg?s=f7f96fb1ae5fea88ed9f23a3226aad34",name:"Shin",role:"Supporting",voice_actors:[{mal_id:606,name:"Paysinger, Sasha",url:"https://myanimelist.net/people/606/Sasha_Paysinger",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/19625.jpg?s=31d921f32d6e744f34a5e487b3d94d49",language:"English"},{mal_id:1061,name:"Nakanishi, Tamaki",url:"https://myanimelist.net/people/1061/Tamaki_Nakanishi",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/58655.jpg?s=d2fc4825c26b6fc07061d919ab938cbd",language:"Japanese"},{mal_id:1284,name:"Granato, Jolanda",url:"https://myanimelist.net/people/1284/Jolanda_Granato",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/1277.jpg?s=edc7875ae0e5501427efcf4f5c3d4cbe",language:"Italian"}]},{mal_id:27824,url:"https://myanimelist.net/character/27824/Yayoi_Takato",image_url:"https://cdn.myanimelist.net/images/characters/5/79184.jpg?s=d6e674502701363e562c7e9a0c01ed8d",name:"Takato, Yayoi",role:"Supporting",voice_actors:[{mal_id:27,name:"Tamura, Yukari",url:"https://myanimelist.net/people/27/Yukari_Tamura",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/3/54665.jpg?s=168fdf1728b15f15f9e0aee4940d8f6f",language:"Japanese"},{mal_id:159,name:"Rial, Monica",url:"https://myanimelist.net/people/159/Monica_Rial",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/37923.jpg?s=404223ca84c96f83d491f45acf82eb10",language:"English"},{mal_id:43070,name:"Piovani, Tosawi",url:"https://myanimelist.net/people/43070/Tosawi_Piovani",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/46567.jpg?s=8f64501c8809c610145a4a2daebaeebc",language:"Italian"}]},{mal_id:9030,url:"https://myanimelist.net/character/9030/Tanaka",image_url:"https://cdn.myanimelist.net/images/characters/9/57546.jpg?s=650c05f6c7d02cc92faddcb9607cb4b9",name:"Tanaka",role:"Supporting",voice_actors:[{mal_id:160,name:"Koyasu, Takehito",url:"https://myanimelist.net/people/160/Takehito_Koyasu",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/10264.jpg?s=31943d0559d0c55da4e14a0c3bd25c5d",language:"Japanese"},{mal_id:6626,name:"Sidello, Paul",url:"https://myanimelist.net/people/6626/Paul_Sidello",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/2/3369.jpg?s=e8557577a5fe37eb8e25b11111dbd299",language:"English"},{mal_id:1236,name:"Sabre, Diego",url:"https://myanimelist.net/people/1236/Diego_Sabre",image_url:"https://cdn.myanimelist.net/r/42x62/images/voiceactors/1/21749.jpg?s=a4af5167c2fc4c7cca1fb48650a06612",language:"Italian"}]}],staff:[{mal_id:4002,url:"https://myanimelist.net/people/4002/Junichi_Satou",name:"Satou, Junichi",image_url:"https://cdn.myanimelist.net/images/voiceactors/1/42167.jpg?s=d29da0c17c5de67e545eb0836d51790e",positions:["Director","Storyboard","Original Creator"]},{mal_id:6064,url:"https://myanimelist.net/people/6064/Kiyoko_Sayama",name:"Sayama, Kiyoko",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/19515.jpg?s=d2d333a541622e35c4cca16d37b23408",positions:["Director","Episode Director","Storyboard"]},{mal_id:37621,url:"https://myanimelist.net/people/37621/Hideyuki_Tanaka",name:"Tanaka, Hideyuki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Sound Director"]},{mal_id:7412,url:"https://myanimelist.net/people/7412/Yoshitaka_Fujimoto",name:"Fujimoto, Yoshitaka",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Episode Director"]},{mal_id:8538,url:"https://myanimelist.net/people/8538/Yoshimasa_Hiraike",name:"Hiraike, Yoshimasa",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/39740.jpg?s=e4c84ac65d6890968328ec5573978cfe",positions:["Episode Director"]},{mal_id:14607,url:"https://myanimelist.net/people/14607/Tatsufumi_Itou",name:"Itou, Tatsufumi",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/59828.jpg?s=4e7feb5154f9bfeadb64fca396e1f876",positions:["Episode Director","Storyboard","Key Animation"]},{mal_id:10377,url:"https://myanimelist.net/people/10377/Harume_Kosaka",name:"Kosaka, Harume",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Episode Director"]},{mal_id:47919,url:"https://myanimelist.net/people/47919/Yukio_Nishimoto",name:"Nishimoto, Yukio",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Episode Director","Storyboard"]},{mal_id:9619,url:"https://myanimelist.net/people/9619/Kenichi_Kanemaki",name:"Kanemaki, Kenichi",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Script","Series Composition"]},{mal_id:4801,url:"https://myanimelist.net/people/4801/Hiroyuki_Kawasaki",name:"Kawasaki, Hiroyuki",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/43691.jpg?s=e0a4846d2094dc3f96fd077d5a7ad028",positions:["Script"]},{mal_id:14703,url:"https://myanimelist.net/people/14703/Tomoki_Kobayashi",name:"Kobayashi, Tomoki",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/43404.jpg?s=989b2d16ca5b4163568552cc5fb54807",positions:["Storyboard"]},{mal_id:5315,url:"https://myanimelist.net/people/5315/Yuu_Kou",name:"Kou, Yuu",image_url:"https://cdn.myanimelist.net/images/voiceactors/1/10110.jpg?s=41115c5b336b0ecb36d8b51940ea605e",positions:["Storyboard"]},{mal_id:48086,url:"https://myanimelist.net/people/48086/Akira_Mano",name:"Mano, Akira",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Storyboard"]},{mal_id:5426,url:"https://myanimelist.net/people/5426/Yoko_Ishida",name:"Ishida, Yoko",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/12352.jpg?s=c02a9af46e5a363d97f657eb35328b33",positions:["Theme Song Performance"]},{mal_id:5958,url:"https://myanimelist.net/people/5958/Toshiyuki_Oomori",name:"Oomori, Toshiyuki",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/46322.jpg?s=df979a0ed26841c754a9e7f32c9ff52a",positions:["Theme Song Arrangement","Music"]},{mal_id:5246,url:"https://myanimelist.net/people/5246/Sayuri_Yoshida",name:"Yoshida, Sayuri",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/10861.jpg?s=712d5518019d47eda37b3a3ccb6b39b7",positions:["Theme Song Performance"]},{mal_id:27397,url:"https://myanimelist.net/people/27397/Misao_Abe",name:"Abe, Misao",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:11201,url:"https://myanimelist.net/people/11201/Hideki_Araki",name:"Araki, Hideki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:20408,url:"https://myanimelist.net/people/20408/Kazuo_Ebisawa",name:"Ebisawa, Kazuo",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/37283.jpg?s=a21715e3ba823be9ed4275b4ac750125",positions:["Background Art"]},{mal_id:8183,url:"https://myanimelist.net/people/8183/Kenji_Fujisaki",name:"Fujisaki, Kenji",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:11529,url:"https://myanimelist.net/people/11529/Shinya_Hasegawa",name:"Hasegawa, Shinya",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/43840.jpg?s=e66effb6d37fa040f2ccbdff85c7992b",positions:["Key Animation"]},{mal_id:46727,url:"https://myanimelist.net/people/46727/Hideki_Hashimoto",name:"Hashimoto, Hideki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:11202,url:"https://myanimelist.net/people/11202/Noritomo_Hattori",name:"Hattori, Noritomo",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Assistant Animation Director","Animation Director"]},{mal_id:37598,url:"https://myanimelist.net/people/37598/Koujirou_Hayashi",name:"Hayashi, Koujirou",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Director of Photography"]},{mal_id:7515,url:"https://myanimelist.net/people/7515/Kumi_Ishii",name:"Ishii, Kumi",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:47108,url:"https://myanimelist.net/people/47108/Hiroyuki_Kamura",name:"Kamura, Hiroyuki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:43853,url:"https://myanimelist.net/people/43853/Akemi_Kobayashi",name:"Kobayashi, Akemi",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Character Design","Animation Director","Chief Animation Director"]},{mal_id:2837,url:"https://myanimelist.net/people/2837/Kaori_Naruse",name:"Naruse, Kaori",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Original Creator"]},{mal_id:10311,url:"https://myanimelist.net/people/10311/Mariko_Oka",name:"Oka, Mariko",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:79,url:"https://myanimelist.net/people/79/Takahiro_Sakurai",name:"Sakurai, Takahiro",image_url:"https://cdn.myanimelist.net/images/voiceactors/3/62791.jpg?s=e63f4d0ee3e5817a7017f3ce182d040d",positions:["Inserted Song Performance"]},{mal_id:6946,url:"https://myanimelist.net/people/6946/Kazuhiko_Shibuya",name:"Shibuya, Kazuhiko",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:16401,url:"https://myanimelist.net/people/16401/Shinobu_Tagashira",name:"Tagashira, Shinobu",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:16063,url:"https://myanimelist.net/people/16063/Kenichi_Tajiri",name:"Tajiri, Kenichi",image_url:"https://cdn.myanimelist.net/images/voiceactors/1/42169.jpg?s=ec3167f18b7af68dc1296c345652d8ca",positions:["Background Art","Art Director"]},{mal_id:8802,url:"https://myanimelist.net/people/8802/Masayuki_Takagi",name:"Takagi, Masayuki",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Key Animation"]},{mal_id:36161,url:"https://myanimelist.net/people/36161/Shinichi_Tanimura",name:"Tanimura, Shinichi",image_url:"https://cdn.myanimelist.net/images/questionmark_23.gif?s=f7dcbc4a4603d18356d3dfef8abd655c",positions:["Background Art"]},{mal_id:97,url:"https://myanimelist.net/people/97/Kousuke_Toriumi",name:"Toriumi, Kousuke",image_url:"https://cdn.myanimelist.net/images/voiceactors/2/56756.jpg?s=da69abd19900e74ae5817ffc973cb65a",positions:["Inserted Song Performance"]},{mal_id:43788,url:"https://myanimelist.net/people/43788/David_Williams",name:"Williams, David",image_url:"https://cdn.myanimelist.net/images/voiceactors/1/45799.jpg?s=0840fde9a9f375c49d5ae66a021c525f",positions:["ADR Director"]}]}

describe("get anime character staff by id", () => {
    it("should return anime character staff", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/characters_staff').reply(200, mockAnimeCharacterStaffResponse);

        const anime = new Anime(100);
        const result = await anime.getCharacterStaff();
        expect(result).toStrictEqual(mockAnimeCharacterStaffResponse);
    });
});

const mockAnimeEpisodesResponse = {request_hash:"request:anime:f9172fb905bb9118b65b701295cb5a24d811b46a",request_cached:true,request_cache_expiry:86400,episodes_last_page:1,episodes:[{episode_id:1,title:"The Wind of Fate",title_japanese:"運命の風",title_romanji:"Unmei no Kaze ",aired:"2001-04-04T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/1",forum_url:"https://myanimelist.net/forum/?topicid=203354"},{episode_id:2,title:"Let Me Hear Your Heart Flutter",title_japanese:"トキメキを聴かせて",title_romanji:"Tokimeki wo Kikasete ",aired:"2001-04-11T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/2",forum_url:"https://myanimelist.net/forum/?topicid=203357"},{episode_id:3,title:"The Way of Becoming Prétear",title_japanese:"プリーティアへの道",title_romanji:"Pretear e no Michi ",aired:"2001-04-18T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/3",forum_url:"https://myanimelist.net/forum/?topicid=203361"},{episode_id:4,title:"A Promise Made Under the Sunlight",title_japanese:"陽だまりの約束",title_romanji:"Hidamari no Yakusoku ",aired:"2001-04-25T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/4",forum_url:"https://myanimelist.net/forum/?topicid=203445"},{episode_id:5,title:"The Smile of Darkness",title_japanese:"闇の微笑",title_romanji:"Yami no Bishou ",aired:"2001-05-02T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/5",forum_url:"https://myanimelist.net/forum/?topicid=1577574"},{episode_id:6,title:"The Rouge Secret",title_japanese:"ル−ジュ)の秘密",title_romanji:"Rouge no Himitsu (紅",aired:"2001-05-09T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/6",forum_url:"https://myanimelist.net/forum/?topicid=1577581"},{episode_id:7,title:"I Can't Protect Anyone Anymore",title_japanese:"もう誰も守れない",title_romanji:"Mou Dare mo Mamorenai ",aired:"2001-05-16T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/7",forum_url:"https://myanimelist.net/forum/?topicid=1577586"},{episode_id:8,title:"The Time of Awakening",title_japanese:"目覚めのとき",title_romanji:"Mezame no Toki ",aired:"2001-05-23T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/8",forum_url:"https://myanimelist.net/forum/?topicid=597491"},{episode_id:9,title:"Unreachable Melody",title_japanese:"届かない旋律（メロディー）",title_romanji:"Todokanai Senritsu [Melody] ",aired:"2001-05-30T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/9",forum_url:"https://myanimelist.net/forum/?topicid=310133"},{episode_id:10,title:"At the End of Memories",title_japanese:"想いの果てに",title_romanji:"Omoi no Hate ni ",aired:"2001-06-06T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/10",forum_url:"https://myanimelist.net/forum/?topicid=622567"},{episode_id:11,title:"Eyes of Glass",title_japanese:"ガラスの瞳",title_romanji:"Glass no Hitomi ",aired:"2001-06-13T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/11",forum_url:"https://myanimelist.net/forum/?topicid=1427517"},{episode_id:12,title:"Warmth, Once More",title_japanese:"ぬくもりをもう一度",title_romanji:"Nukumori wo Mou Ichido ",aired:"2001-06-20T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/12",forum_url:"https://myanimelist.net/forum/?topicid=1480892"},{episode_id:13,title:"The Legend of White Snow",title_japanese:"白い雪の伝説",title_romanji:"Shiroi Yuki no Densetsu ",aired:"2001-06-27T00:00:00+00:00",filler:false,recap:false,video_url:"https://myanimelist.net/anime/100/Shin_Shirayuki-hime_Densetsu_Prétear/episode/13",forum_url:"https://myanimelist.net/forum/?topicid=597597"}]}

describe("get anime episode by id", () => {
    it("should return anime episode by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/episodes/1').reply(200, mockAnimeEpisodesResponse);

        const anime = new Anime(100);
        const result = await anime.getEpisodes();
        expect(result).toStrictEqual(mockAnimeEpisodesResponse);
    });
});

const mockAnimeNewsResponse = {request_hash:"request:anime:d9e1ccae96549ac46f584ff7e00dbc04040a4696",request_cached:true,request_cache_expiry:86153,articles:[{url:"https://myanimelist.net/news/61052252",title:"'Shingeki No Kyojin: The Final Season' Announces Additional Cast",date:"2020-11-02T10:01:00+00:00",author_name:"Mako995",author_url:"https://myanimelist.net/profile/Mako995",forum_url:"https://myanimelist.net/forum/?topicid=1873706",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1604338710-c41f09ba3877cced1d751621ba2c9f80.jpeg?s=012d718d4c1fbc1f953ce74ee2e67e01",comments:29,intro:"The official website of the Shingeki No Kyojin television anime revealed seven additional cast members for the final season on Monday. The new season will begin airi..."},{url:"https://myanimelist.net/news/60807607",title:"Fall 2020 Simulcast List [Update 12/1]",date:"2020-09-28T11:50:00+00:00",author_name:"Snow",author_url:"https://myanimelist.net/profile/Snow",forum_url:"https://myanimelist.net/forum/?topicid=1867128",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1601318938-90b366d0ee226cca6a5f9c0e732c548f.jpeg?s=974e2aff16babfb701642d823d26b478",comments:75,intro:"In this thread, you'll find a comprehensive list of anime acquired for simulcast release during the Fall 2020 season. This list also includes titles that were p..."},{url:"https://myanimelist.net/news/60720316",title:"Fall 2020 Preview",date:"2020-09-15T12:55:00+00:00",author_name:"Snow",author_url:"https://myanimelist.net/profile/Snow",forum_url:"https://myanimelist.net/forum/?topicid=1864732",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1600216652-42c871790ac41862dc4ee37f1f6ea014.jpeg?s=9cc909d2d9aeb34abb47a15797569d3c",comments:24,intro:"In this thread you'll find a comprehensive list of Fall 2020 titles with an accompanying promotional video (PV), commercial (CM), or trailer. This post will be ..."},{url:"https://myanimelist.net/news/59893897",title:"MAPPA Produces Final 'Shingeki no Kyojin' Anime Season, Compilation Film Announced",date:"2020-05-29T03:02:00+00:00",author_name:"sevenPocky",author_url:"https://myanimelist.net/profile/sevenPocky",forum_url:"https://myanimelist.net/forum/?topicid=1843316",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1590745768-6cf524c156fd4da06fb4d202550a7e3f.jpeg?s=4ea8763b8f2c93fd81adec22e9b0b984",comments:224,intro:"The official website of the Shingeki no Kyojin (Attack on Titan) anime series revealed the first key visual (pictured left) and promotional video for the final seas..."},{url:"https://myanimelist.net/news/57882474",title:"Final 'Shingeki no Kyojin' Anime Season Announced for Fall 2020",date:"2019-06-30T09:06:00+00:00",author_name:"Vindstot",author_url:"https://myanimelist.net/profile/Vindstot",forum_url:"https://myanimelist.net/forum/?topicid=1789574",image_url:"https://cdn.myanimelist.net/s/common/uploaded_files/1561910514-dc67da225d5f28d719feb43230964fb7.jpeg?s=5eeaac277848b87a68fe384cbb66d9b1",comments:102,intro:"The 10th and final episode of the third Shingeki no Kyojin anime season's second cours ended with an announcement on Monday that the final season will air in Fa..."}]}

describe("get anime news by id", () => {
    it("should return anime news by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/news').reply(200, mockAnimeNewsResponse);

        const anime = new Anime(100);
        const result = await anime.getNews();
        expect(result).toStrictEqual(mockAnimeNewsResponse);
    });
});

const mockAnimePvResponse = {request_hash:"request:anime:0c9664edb49621e8d3ab1e2f5343f067658e5f2b",request_cached:true,request_cache_expiry:67075,promo:[{title:"PV",image_url:"https://i.ytimg.com/vi/SlNpRThS9t8/mqdefault.jpg",video_url:"https://www.youtube.com/embed/SlNpRThS9t8?enablejsapi=1&wmode=opaque&autoplay=1"},{title:"Announcement",image_url:"https://i.ytimg.com/vi/nUE0OyXWMuo/mqdefault.jpg",video_url:"https://www.youtube.com/embed/nUE0OyXWMuo?enablejsapi=1&wmode=opaque&autoplay=1"}],episodes:[{title:"Sole Salvation",episode:"Episode 15",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/15",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Savagery",episode:"Episode 14",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/14",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Children of the Forest",episode:"Episode 13",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/13",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Guides",episode:"Episode 12",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/12",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Deceiver",episode:"Episode 11",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/11",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"A Sound Argument",episode:"Episode 10",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/10",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Brave Volunteers",episode:"Episode 9",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/9",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Assassin's Bullet",episode:"Episode 8",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/8",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Assault",episode:"Episode 7",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/7",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"The War Hammer Titan",episode:"Episode 6",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/6",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Declaration of War",episode:"Episode 5",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/5",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"From One Hand to Another",episode:"Episode 4",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/4",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"The Door of Hope",episode:"Episode 3",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/3",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"Midnight Train",episode:"Episode 2",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/2",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"},{title:"The Other Side of the Sea",episode:"Episode 1",url:"https://myanimelist.net/anime/40028/Shingeki_no_Kyojin__The_Final_Season/episode/1",image_url:"https://cdn.myanimelist.net/images/icon-banned-youtube.png"}]}

describe("get anime pv by id", () => {
    it("should return anime pv by id", async () => {
        nock("https://api.jikan.moe/v3/").get('/anime/100/videos').reply(200, mockAnimePvResponse);

        const anime = new Anime(100);
        const result = await anime.getPV();
        expect(result).toStrictEqual(mockAnimePvResponse);
    });
});